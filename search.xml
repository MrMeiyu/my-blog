<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[HTML5 Web Speech API]]></title>
    <url>%2Fmy-blog%2F2019%2F07%2F22%2FHTML5-Web-Speech-API%2F</url>
    <content type="text"><![CDATA[å‰è¨€ ä¹‹æ‰€ä»¥å†™è¿™ç¯‡æ–‡ç« ä¸»è¦å°±æ˜¯åœ¨æˆ‘å¸çš„è€é¡¹ç›®ä¸­æœ‰ä¸ªéœ€æ±‚ï¼Œæ­¤éœ€æ±‚å°±æ˜¯æ ¹æ®é¡µé¢é‡é‡æ’­æ”¾è¯­éŸ³ï¼Œæ¯”å¦‚ï¼š56KG,é‚£ä¹ˆé¡µé¢å°±ä¼šè¯»å‡ºæ¥è¿™ä¸ªæ•°å­— Speech Synthesis API å› ä¸ºä¹‹å‰æ²¡æœ‰è¿‡è¿™ç§éœ€æ±‚æ‰€ä»¥åªèƒ½å»ç™¾åº¦ä¸‹ï¼Œç„¶åå°±å‘ç°äº† HTMl5 SpeechSynthesis API HTML5 ä¸­ Web Speech å…¶å®æœ‰ä¸¤ç±»çš„ï¼ša. æ˜¯ Speech Recognition ä»£è¡¨çš„æ˜¯è¯­éŸ³è¯†åˆ«,é€šä¿—æ¥è¯´å°±æ˜¯è¯­éŸ³è½¬æ–‡å­—;b. æ˜¯ Speech Synthesis ä»£è¡¨çš„æ˜¯è¯­éŸ³åˆæˆ,é€šä¿—æ¥è¯´å°±æ˜¯æ–‡å­—è½¬è¯­éŸ³. ä½¿ç”¨æ–¹å¼ è¯­éŸ³è¯†åˆ« 123456789101112// åˆ›å»ºå®ä¾‹const demo = webkitSpeechRecognition();// å¼€demo.start();// å…³demo.stop();// äº‹ä»¶æœºåˆ¶demo.onresult = function(e) &#123; console.log(e);&#125; è¯¦ç»†çš„åœ°å€å‚è€ƒ è¯­éŸ³åˆæˆ 123// ä¸¾ä¸ªæ —å­const demo = new window.SpeechSynthesisUtterance('hello world');window.speechSynthesis.speak(demo); ä¸Šé¢è¿™æ®µä»£ç å¯ä»¥è¯•ç€æ”¾åœ¨æ§åˆ¶å°ç„¶åå°±å¯ä»¥å¬åˆ°å£°éŸ³äº† SpeechSynthesisUtterance å’Œ speechSynthesis ä¸ºæ ¸å¿ƒçš„API å…¶ä»–æ–¹æ³•å’Œå±æ€§è¯·çœ‹è¿™é‡Œ,èµ°ä½  ä»¥ä¸Šå°±æ˜¯è¿™æ¬¡æ‰€å­¦ï¼Œå› ä¸ºå¤ªç®€å•äº†ï¼Œæ‰€ä»¥æ²¡æœ‰å†™è¿‡å¤šçš„ä»£ç ã€‚è¿˜æœ‰è¿™ä¸ªAPIå…¶å®ä»¥åä¼šåº”ç”¨çš„æ›´å¤šï¼Œæ¯”å¦‚é€‚åˆâ€œç›²äººâ€ã€‚]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>js</category>
        <category>è¯­éŸ³</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>js</tag>
        <tag>è¯­éŸ³</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•™ä½ å¦‚ä½•åœ¨ç½‘é¡µä¸­ä½¿ç”¨RTMPçœ‹è§†é¢‘]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F29%2F%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%AD%E4%BD%BF%E7%94%A8RTMP%E7%9C%8B%E8%A7%86%E9%A2%91%2F</url>
    <content type="text"><![CDATA[ä»»ä½•ä½¿ç”¨RTMPåœ¨VideoJSä¸­æ’­æ”¾ å…¶å® github ä¸Šå¼€æºäº†ä¸€ä¸ªåŸºäº vudeo.js å°è£…çš„ä¸€ä¸ª vue çš„ç»„ä»¶ä½†æ˜¯è€æ˜¯æŠ¥é”™ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸»è¦è¿˜æ˜¯æ•™ä½ ä½¿ç”¨ vudeo.js ä¸‹è½½çš„ä¾èµ– âš ï¸è¯·ä½¿ç”¨ yarn æˆ–è€… npm ä¸‹è½½ video.js // yarn add video.js -S video.flash // yarn add video.flash -S åˆ‡æ¢åˆ°flashï¼Œå› ä¸ºhtml5æ’­æ”¾ä¸äº†RTMPæ ¼å¼çš„æµ è¿˜æœ‰ä¸€ä¸ª swf çš„æ–‡ä»¶ï¼Œå› ä¸ºæˆ‘ä¸‹è½½å¼•å…¥è€æ˜¯ä¸å¯¹ï¼Œç´¢æ€§æˆ‘å°±æ‰¾äº†ä¸€ä¸ªåœ¨çº¿çš„ https://vjs.zencdn.net/swf/5.3/video-js.swf è¿™æ˜¯æˆ‘çš„ package.json æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445&#123; "name": "koa2-fe-vue", "version": "0.1.0", "private": true, "scripts": &#123; "serve": "vue-cli-service serve", "build": "vue-cli-service build", "lint": "vue-cli-service lint" &#125;, "dependencies": &#123; "axios": "^0.18.0", "echarts": "^4.2.1", "element-ui": "^2.5.4", "js-cookie": "^2.2.0", "v-charts": "^1.19.0", "video.js": "^7.5.4", "videojs-flash": "^2.1.0", "vue": "^2.6.6", "vue-i18n": "^8.10.0", "vue-router": "^3.0.1", "vuex": "^3.0.1" &#125;, "devDependencies": &#123; "@vue/cli-plugin-babel": "^3.0.5", "@vue/cli-plugin-eslint": "^3.4.0", "@vue/cli-service": "^3.0.5", "@vue/eslint-config-prettier": "^4.0.1", "babel-eslint": "^10.0.1", "babel-plugin-component": "^1.1.1", "babel-plugin-transform-remove-console": "^6.9.4", "eslint": "^5.8.0", "eslint-plugin-vue": "^5.0.0", "file-loader": "^3.0.1", "imagemin-jpegtran": "^6.0.0", "imagemin-pngquant": "^7.0.0", "loadsh": "^0.0.4", "lodash-webpack-plugin": "^0.11.5", "node-sass": "^4.11.0", "sass": "^1.17.3", "sass-loader": "^7.1.0", "vue-cli-plugin-axios": "^0.0.4", "vue-cli-plugin-element": "^1.0.1", "vue-template-compiler": "^2.5.21" &#125;&#125; ç¼–å†™ä»£ç  ä»å®˜ç½‘ä¸­çœ‹äº†ä¸‹ä»£ç çš„ ğŸŒ° ï¼Œæ‰€ä»¥ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960 &lt;template&gt; &lt;div class="video"&gt; &lt;h2&gt;VideoJS æµåª’ä½“&lt;/h2&gt; &lt;video id="myVideo" class="video-js vjs-default-skin" controls preload="auto" crossOrigin="anonymous" width="400" &gt; &lt;!-- eslint-disable-next-line --&gt; &lt;source src="rtmp://184.72.239.149/vod/&amp;mp4:BigBuckBunny_115k.mov" type="rtmp/flv" /&gt; &lt;p class="vjs-no-js"&gt; To view this video please enable JavaScript, and consider upgrading to a web browser that &lt;a href="https://videojs.com/html5-video-support/" target="_blank"&gt; supports HTML5 video &lt;/a&gt; &lt;/p&gt; &lt;/video&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;/* VideoJS */import 'video.js/dist/video-js.css'import videojs from 'video.js'import 'videojs-flash'export default &#123; name: 'Video', data() &#123; return &#123;&#125; &#125;, mounted() &#123; this.initVideo() &#125;, destroyed() &#123; // å¸è½½ç»„ä»¶çš„æ—¶å€™æ¸…é™¤æ‰ video çš„å®ä¾‹ this.player1.dispose() &#125;, methods: &#123; initVideo() &#123; videojs.options.flash.swf = 'https://vjs.zencdn.net/swf/5.3/video-js.swf' this.player1 = videojs('myVideo', &#123; bigPlayButton: false, textTrackDisplay: false, posterImage: false, errorDisplay: false, controlBar: false &#125;) this.player1.play() &#125; &#125;&#125;&lt;/script&gt; å¥½ï¼Œåˆ°è¿™é‡Œå°±å®Œæˆ video.js æ’­æ”¾RTMPæµçš„æ­¥éª¤ å¦‚æœä½ ä½¿ç”¨çš„ React çš„è¯ï¼Œä»£ç å’Œä½ è¿™ä¸ªç±»ä¼¼ä¸»è¦æ˜¯è¯­æ³•å˜ä¸‹å°±è¡Œäº†ã€‚ æºä»£ç koa-fe-vue å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œéº»çƒ¦å¸®å¿™ç‚¹ä¸‹ âœ¨(star) å‚è€ƒé“¾æ¥videoå®˜ç½‘]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>Vue</category>
        <category>Video.js</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
        <tag>Vue</tag>
        <tag>Video.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸Šä¼ å›¾ç‰‡é¢„è§ˆ]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2F%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E9%A2%84%E8%A7%88%2F</url>
    <content type="text"><![CDATA[å…¼å®¹IE6çš„å›¾ç‰‡é¢„è§ˆ 12345678910111213141516171819202122232425262728293031ã€htmlä»£ç ã€‘ï¼š&lt;input id=&quot;file_upload&quot; type=&quot;file&quot; /&gt;&lt;div class=&quot;image_container&quot;&gt; &lt;img id=&quot;preview&quot; width=&quot;60&quot; height=&quot;60&quot;&gt;&lt;/div&gt;ä»£ç å¦‚ä¸‹åˆ©ç”¨html5å®ç°:å‡ ä¹å…¼å®¹æ‰€æœ‰ä¸»æµæµè§ˆå™¨ï¼Œå½“ç„¶IEå¿…é¡»æ˜¯IE 6ä»¥ä¸Šã€jqueryä»£ç ã€‘$(function() &#123; $(&quot;#file_upload&quot;).change(function() &#123; var $file = $(this); var fileObj = $file[0]; var windowURL = window.URL || window.webkitURL; var dataURL; var $img = $(&quot;#preview&quot;); if(fileObj &amp;&amp; fileObj.files &amp;&amp; fileObj.files[0])&#123; dataURL = windowURL.createObjectURL(fileObj.files[0]); $img.attr(&apos;src&apos;,dataURL); &#125;else&#123; dataURL = $file.val(); var imgObj = document.getElementById(&quot;preview&quot;); // ä¸¤ä¸ªå‘: // 1ã€åœ¨è®¾ç½®filterå±æ€§æ—¶ï¼Œå…ƒç´ å¿…é¡»å·²ç»å­˜åœ¨åœ¨DOMæ ‘ä¸­ï¼ŒåŠ¨æ€åˆ›å»ºçš„Nodeï¼Œä¹Ÿéœ€è¦åœ¨è®¾ç½®å±æ€§å‰åŠ å…¥åˆ°DOMä¸­ï¼Œå…ˆè®¾ç½®å±æ€§åœ¨åŠ å…¥ï¼Œæ— æ•ˆï¼› // 2ã€srcå±æ€§éœ€è¦åƒä¸‹é¢çš„æ–¹å¼æ·»åŠ ï¼Œä¸Šé¢çš„ä¸¤ç§æ–¹å¼æ·»åŠ ï¼Œæ— æ•ˆï¼› imgObj.style.filter = &quot;progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale)&quot;; imgObj.filters.item(&quot;DXImageTransform.Microsoft.AlphaImageLoader&quot;).src = dataURL; &#125; &#125;);&#125;); 12345678910111213141516171819202122232425262728293031323334353637383940//åŸç”Ÿajaxvar xhr = new XMLHttpRequest();//å‘é€å®Œæˆå¹¶æˆåŠŸäº‹ä»¶xhr.onload = function() &#123; if (xhr.responseText == 1) &#123; //æ¨¡æ€æ¡†æç¤º $(&quot;.modal-body&gt;.modal-main&quot;).html(&quot;å‘å¸ƒæˆåŠŸ&quot;); myModal.modal(&quot;show&quot;); setTimeout(function() &#123; location.reload(true); &#125;, 1000); &#125; else &#123; //æ¨¡æ€æ¡†æç¤º $(&quot;.modal-body&gt;.modal-main&quot;).html(&quot;å‘å¸ƒå¤±è´¥&quot;); myModal.modal(&quot;show&quot;); &#125;&#125;;//æäº¤å¤±è´¥äº‹ä»¶xhr.onerror = function() &#123; //æ¨¡æ€æ¡†æç¤º $(&quot;.modal-body&gt;.modal-main&quot;).html(&quot;å‘å¸ƒå¤±è´¥&quot;); myModal.modal(&quot;show&quot;);&#125;;//postæ–¹å¼æäº¤ï¼Œå¼‚æ­¥xhr.open(&apos;post&apos;, JSV.PATH_SERVER + &apos;Index/post_file&apos;, true);//è®¾ç½®å¤´éƒ¨ä¿¡æ¯ï¼ˆpostæ–¹å¼å¿…é¡»ï¼‰xhr.setRequestHeader(&apos;X-Request-With&apos;, &apos;XMLHttpRequest&apos;);//è·å–fileså¯¹è±¡var uploadFileBtn = $(&quot;#uploadFileBtn&quot;);var filesObj = uploadFileBtn[0].files;// //é€šè¿‡FormDataæ¥æ„å»ºæäº¤æ–‡ä»¶æ•°æ®var formData = new FormData();//è°ƒç”¨ append(nameï¼Œvalue) æ–¹æ³•å¹¶ä¼ å…¥ç›¸åº”çš„ File å¯¹è±¡ä½œä¸ºå‚æ•°(å‡è®¾åªæœ‰ä¸€ä¸ªä¸Šä¼ æ–‡ä»¶)formData.append(&quot;photo&quot;, filesObj[0]);var formTextData = requestData(formObj);for (var key in formTextData) &#123; formData.append(key, formTextData[key]);&#125;//å°†formDataä½œä¸ºå‚æ•°è°ƒç”¨send()æ–¹æ³•xhr.send(formData); ç°ä»£ä¸»æµæµè§ˆå™¨(IE10+):å‚è€ƒé«˜ä¸‰123456789101112131415161718192021222324252627282930// ã€htmlä»£ç ã€‘ï¼š&lt;input id=&quot;file_upload&quot; type=&quot;file&quot; /&gt;&lt;div class=&quot;image_container&quot;&gt; &lt;img id=&quot;preview&quot; width=&quot;60&quot; height=&quot;60&quot;&gt;&lt;/div&gt;// ã€jsä»£ç ã€‘ï¼š// 1. å°†å›¾ç‰‡è½¬ä¸ºbase64,å¯å°†base64ä½œä¸ºajaxä¼ é€æ•°æ®var upload=document.querySelector(&quot;#file_upload&quot;);var preview=document.querySelector(&quot;#preview&quot;);upload.onchange=function()&#123; var file=this.files; var reader = new FileReader(); var (var i=0,len=files.length;i++)&#123; reader.readAsDataURL(target.files[i]); reader.onload =function(e)&#123; preview.src=reader.result; &#125;; &#125;&#125;// 2.ä½¿ç”¨å¯¹è±¡urlvar upload=document.querySelector(&quot;#file_upload&quot;);var preview=document.querySelector(&quot;#preview&quot;);upload.onchange=function()&#123; var file=this.files; var windowUrl=window.URL || window.webkitURL; var (var i=0,len=files.length;i++)&#123; preview.src=windowUrl.createObjectURL(files[i]); &#125;&#125;]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
  <entry>
    <title><![CDATA[è·¨åŸŸ]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2F%E8%B7%A8%E5%9F%9F%2F</url>
    <content type="text"><![CDATA[ä¸€ä¸ªåŸŸååœ°å€çš„ç»„æˆ åè®® å­åŸŸå ä¸»åŸŸå ç«¯å£å· è¯·æ±‚èµ„æºåœ°å€ http:// www .abc.com :8080 /script/jquery.js å½“åè®®ã€å­åŸŸåã€ä¸»åŸŸåã€ç«¯å£å·ä»»æ„ä¸€ä¸ªä¸ç›¸åŒæ—¶ï¼Œéƒ½ç®—ä½œä¸åŒåŸŸjsåœ¨ä¸åŒçš„åŸŸä¹‹é—´è¿›è¡Œæ•°æ®ä¼ è¾“æˆ–é€šä¿¡ï¼Œå°±ç®—ä½œè·¨åŸŸï¼ˆæ¯”å¦‚ç”¨ajaxå‘ä¸€ä¸ªä¸åŒçš„åŸŸè¯·æ±‚æ•°æ®ï¼Œæˆ–è€…é€šè¿‡jsè·å–é¡µé¢ä¸­ä¸åŒåŸŸçš„æ¡†æ¶ä¸­(iframe)çš„æ•°æ® ï¼‰ è·¨åŸŸæ–¹æ³•1. frameä¹‹é—´ï¼ˆä¸»åŸŸå’Œå­åŸŸæˆ–ä¸åŒå­åŸŸé—´ï¼‰é»˜è®¤æƒ…å†µä¸‹ï¼Œè·¨åŸŸçš„frameä¹‹é—´ä¸èƒ½è®¿é—®å½¼æ­¤çš„windowå¯¹è±¡ä¸Šçš„æ–¹æ³•å’Œå±æ€§ã€‚ æƒ…å†µ1ï¼šwww.a.com å’Œ child.a.comçš„äº’ç›¸è®¿é—®å½¼æ­¤windowå¯¹è±¡ä¸Šçš„æ–¹æ³•å’Œå±æ€§ï¼šè§£å†³åŠæ³•ï¼šå°†ä¸¤ä¸ªé¡µé¢çš„document.domainè®¾æˆç›¸åŒçš„åŸŸåï¼ˆåªèƒ½è®¾ç½®æˆè‡ªèº«æˆ–æ›´é«˜ä¸€çº§çš„çˆ¶åŸŸï¼Œä¸”ä¸»åŸŸå¿…é¡»ç›¸åŒï¼Œå¦‚a.comæˆ–www.a.comï¼Œå¿…é¡»æ˜¾å¼è®¾ç½®ï¼Œå³ä½¿åŸŸåä¸è®¾ç½®å€¼ç›¸åŒï¼‰ æƒ…å†µ2ï¼šåœ¨www.a.comé¡µé¢é€šè¿‡ajaxç›´æ¥è¯·æ±‚child.a.comï¼šè§£å†³åŠæ³•ï¼šå³ä½¿è®¾ç½®äº†ç›¸åŒçš„document.domainï¼ˆåªé€‚ç”¨äºä¸åŒå­åŸŸçš„æ¡†æ¶é—´çš„äº¤äº’ï¼‰ä¹Ÿä¸è¡Œã€‚é™¤äº†ä½¿ç”¨jsonpï¼Œè¿˜å¯ä»¥ç”¨ä¸€ä¸ªéšè—çš„iframeæ¥åšä»£ç†ï¼ˆä¸child.a.comåŒåŸŸï¼‰ï¼Œé€šè¿‡è¯¥iframeè¯·æ±‚child.a.comçš„æ•°æ®ï¼Œè®¾ç½®www.a.comå’Œiframeçš„document.domainä¸ºç›¸åŒåŸŸåã€‚ç„¶åwww.a.comè®¿é—®iframeä»child.a.comè·å–åˆ°çš„æ•°æ®ã€‚ 2. æœåŠ¡å™¨ä»£ç†3. JSONP- åˆ©ç”¨scriptæ ‡ç­¾ï¼Œå°†å…¶srcå½“åšè¯·æ±‚åœ°å€ï¼Œåªè¦åœ°å€è¿”å›çš„æ˜¯jsonæˆ–jsæ­¥éª¤ï¼š- åˆ›å»ºscriptæ ‡ç­¾ï¼ŒsrcæŒ‡å‘è¯·æ±‚åœ°å€ï¼Œåœ¨åˆ›å»ºçš„scriptæ ‡ç­¾å‰å£°æ˜å‡½æ•°fnï¼šfunction fn(json){ alert(json) }- è¯·æ±‚åœ°å€è¿”å›fn({data:â€è¿”å›çš„æ•°æ®â€})é™åˆ¶ï¼š- åªèƒ½ç”¨ä½œgetè¯·æ±‚ 123456789101112131415161718192021222324252627282930313233function jsonp(url,data,cbMap,dataCallback)&#123; // æ—¶é—´æˆ³ var timestamp=new Date().getTime(); // åˆ›å»ºscriptå…ƒç´  var script=document.createElement("script"); var callbackName; for(var cb in cbMap)&#123; url +="?" + cb + "=" + (callbackName = cbMap[cb]) ; &#125; for(var key in data)&#123; url+="&amp;"+key+"="+data[key]; &#125; cb = key = null; //åŠ ä¸Šæ—¶é—´æˆ³ url+="&amp;"+timestamp; //é€šè¿‡jsonpå–å¾—æ•°æ®ï¼Œç„¶åæ‰§è¡Œå›è°ƒ window[callbackName]=function (response)&#123; //responseå·²è·å–ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°ï¼Œå¹¶å°†responseä½œä¸ºé»˜è®¤å‚æ•°ä¼ å…¥ dataCallback.call(window,response); delete window[callbackName]; &#125; script.src = url; //æ’å…¥scriptå…ƒç´  document.getElementsByTagName("body")[0].appendChild(script); //åˆ é™¤scriptå…ƒç´  document.getElementsByTagName("body")[0].removeChild(script); //æ¸…é™¤æ— ç”¨å˜é‡ script = null;&#125;// å›è°ƒå‡½æ•°åä¸ºâ€œgetDataâ€ï¼Œä¼ ç»™åå°çš„ç›¸åº”å­—æ®µä¸ºâ€œcallbackâ€jsonp("https://www.baidu.com",&#123;&#125;,&#123;callback:"getData"&#125;,function(data)&#123; //å–å¾—æ•°æ®åçš„å›è°ƒ&#125;) 4. åˆ©ç”¨location.hashå’Œiframeï¼š- è¯¦è§ã€Šå‰ç«¯è·¨åŸŸæ•´ç† Damonareçš„ä¸ªäººåšå®¢.pngã€‹ 5. åˆ©ç”¨window.nameå’Œiframewindowå¯¹è±¡æœ‰ä¸ªnameå±æ€§ï¼Œè¯¥å±æ€§æœ‰ä¸ªç‰¹å¾ï¼šå³åœ¨ä¸€ä¸ªçª—å£(window)çš„ç”Ÿå‘½å‘¨æœŸå†…,çª—å£è½½å…¥çš„æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯å…±äº«ä¸€ä¸ªwindow.nameçš„ï¼Œæ¯ä¸ªé¡µé¢å¯¹window.nameéƒ½æœ‰è¯»å†™çš„æƒé™ï¼Œwindow.nameæ˜¯æŒä¹…å­˜åœ¨ä¸€ä¸ªçª—å£è½½å…¥è¿‡çš„æ‰€æœ‰é¡µé¢ä¸­çš„ï¼Œå¹¶ä¸ä¼šå› æ–°é¡µé¢çš„è½½å…¥è€Œè¿›è¡Œé‡ç½®ã€‚ æƒ…å†µ1ï¼šwww.a.com/a.htmlè®¿é—®www.b.com/b.htmlä¸‹é¡µé¢çš„æ•°æ®ï¼š è§£å†³åŠæ³•ï¼š è®¾ç½®www.b.com/b.htmlé¡µé¢çš„window.nameï¼ˆåªèƒ½ä¸ºå­—ç¬¦ä¸²ï¼‰ åœ¨www.a.com/a.htmlé¡µé¢åˆ›å»ºä¸€ä¸ªéšè—çš„iframeï¼Œå°†srcè®¾ä¸º www.b.com/b.htmlã€‚æ­¤æ—¶iframeçš„windowå¯¹è±¡çš„nameå±æ€§å€¼å³ä¸ºwww.b.com/b.htmlè®¾ç½®çš„å€¼ ä¿®æ”¹iframeçš„srcä¸ºwww.a.com/a.html(è¯¥é¡µé¢æœªè®¾ç½®window.nameï¼Œå³iframeçš„windowå¯¹è±¡çš„nameå±æ€§å€¼æœªæ”¹å˜) ç„¶åwww.a.com/a.htmlå°±å¯ä»¥è®¿é—®iframeçš„windowå¯¹è±¡çš„nameå±æ€§ 123// www.b.com/b.htmlwindow.name = 'a.htmlè¦è·å–çš„æ•°æ®'; 12345678910111213141516171819// www.a.com/a.htmlfunction getDataFrom(url) &#123; // åˆ›å»ºiframeä»£ç† var iframe = document.createElement('iframe'); // å…ˆè®¾ç½®srcä¸ºè®¿é—®åœ°å€è·¯å¾„ iframe.src = url; document.body.appendChild(iframe); var data; iframe.onload = function () &#123; // è·å–iframeä¸­window.nameçš„å€¼ï¼Œå³ www.b.com/b.html è®¾ç½®çš„window.name data = iframe.contentWindow.name; // ç§»é™¤ä»£ç†iframe document.body.removeChild(iframe); &#125; // ä¿®æ”¹iframeçš„srcä¸ºä¸å½“å‰é¡µé¢åŒåŸŸçš„è·¯å¾„ï¼ˆabout:blankä¹Ÿè¡Œï¼‰ iframe.src = 'ab.html'; return data;&#125; 6. CORS- H5æä¾›çš„XMLHttpRequest Level2å·²ç»å®ç°äº†è·¨åŸŸåœ¨æœåŠ¡ç«¯è®¾ç½®å¦‚ä¸‹å¤´éƒ¨ä¿¡æ¯å³å¯ï¼š header(â€˜Access-Control-Allow-Origin: * â€˜); header(â€˜Access-Control-Allow-Methods: POST,GET â€˜);- å…¼å®¹æ€§ï¼šIE10+- ä½ç‰ˆæœ¬IEå¯ä½¿ç”¨XDomainRequestå¯¹è±¡å®ç°è·¨åŸŸï¼Œç”¨æ³•åŒXMLHttpRequest 7. window.postMessage()- è¯¦è§ã€Šå‰ç«¯è·¨åŸŸæ•´ç† Damonareçš„ä¸ªäººåšå®¢.pngã€‹ å‚è€ƒï¼š æµè§ˆå™¨çš„åŒæºç­–ç•¥ HTTPè®¿é—®æ§åˆ¶(CORS) jsä¸­å‡ ç§å®ç”¨çš„è·¨åŸŸæ–¹æ³•åŸç†è¯¦è§£ å‰ç«¯è·¨åŸŸæ•´ç† http://bbs.miaov.com/forum.php?mod=viewthread&amp;tid=5551 å‰ç«¯è·¨åŸŸè¯·æ±‚åŸç†åŠå®è·µ jsä¸­å‡ ç§å®ç”¨çš„è·¨åŸŸæ–¹æ³•åŸç†è¯¦è§£ Ajaxè·¨åŸŸã€Jsonè·¨åŸŸã€Socketè·¨åŸŸå’ŒCanvasè·¨åŸŸç­‰åŒæºç­–ç•¥é™åˆ¶çš„è§£å†³æ–¹æ³•]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸç”ŸJSæ‡’åŠ è½½]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2F%E5%8E%9F%E7%94%9FJS%E6%87%92%E5%8A%A0%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[åŸç”ŸJSæ‡’åŠ è½½ å…ˆç†è§£å›¾ç‰‡çš„åŠ è½½è¿‡ç¨‹ï¼Œä¸€èˆ¬åœ¨ç½‘é¡µä¸­å¦‚æœ &lt;img /&gt; è¿™ä¸ªæ ‡ç­¾ä¸­srcå±æ€§ä¸­æ²¡å¾—å€¼ï¼Œé‚£å›¾ç‰‡å°±ä¸ä¼šåŠ è½½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ç‚¹ã€‚ çŸ¥é“äº†å›¾ç‰‡åŠ è½½çš„æ–¹å¼ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£ä¸€ä¸ªçŸ¥è¯†ç‚¹å°±æ˜¯æˆ‘ä»¬æ‰€çœ‹åˆ°çš„è§†å£å¤§å°ï¼Œè¿™æ ·æ‰èƒ½ç®—å‡ºæ¥å›¾ç‰‡åŠ è½½å¤šå°‘ã€‚ æœ€åå°±ä¸€æ­¥æ•´ä¸ªä»£ç çš„å®ç° JavaScript ä¸­è·å–domå…ƒç´ é«˜åº¦å’Œå®½åº¦çš„æ–¹æ³• ç½‘é¡µå¯è§åŒºåŸŸå®½ï¼š document.body.clientWidth ç½‘é¡µå¯è§åŒºåŸŸé«˜ï¼š document.body.clientHeight ç½‘é¡µå¯è§åŒºåŸŸå®½ï¼š document.body.offsetWidth (åŒ…æ‹¬è¾¹çº¿çš„å®½) ç½‘é¡µå¯è§åŒºåŸŸé«˜ï¼š document.body.offsetHeight (åŒ…æ‹¬è¾¹çº¿çš„é«˜) ç½‘é¡µæ­£æ–‡å…¨æ–‡å®½ï¼š document.body.scrollWidth ç½‘é¡µæ­£æ–‡å…¨æ–‡é«˜ï¼š document.body.scrollHeight ç½‘é¡µè¢«å·å»çš„é«˜ï¼š document.body.scrollTop ç½‘é¡µè¢«å·å»çš„å·¦ï¼š document.body.scrollLeft 12345678910111213141516171819202122// htmléƒ¨åˆ†&lt;img src=&quot;&quot; data-src=&quot;1.png&quot;&gt;&lt;img src=&quot;&quot; data-src=&quot;2.png&quot;&gt;&lt;img src=&quot;&quot; data-src=&quot;3.png&quot;&gt;&lt;img src=&quot;&quot; data-src=&quot;4.png&quot;&gt;// JSéƒ¨åˆ†var aImg = document.querySelectorAll(&apos;img&apos;);var len = aImg.length;var n = 0;window.onscroll = function() &#123; var seeHeight = document.documentElement.clientHeight; var scrollTop = document.body.scrollTop || document.documentElement.scrollTop; for (var i = n; i &lt; len; i++) &#123; if (aImg[i].offsetTop &lt; seeHeight + scrollTop) &#123; if (aImg[i].getAttribute(&apos;src&apos;) == &apos;&apos;) &#123; aImg[i].src = aImg[i].getAttribute(&apos;data-src&apos;); &#125; n = i + 1; &#125; &#125;&#125;;]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é”šç‚¹]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2F%E9%94%9A%E7%82%B9%2F</url>
    <content type="text"><![CDATA[é”šç‚¹çš„å®ç°æ–¹æ³•å¤§æ¦‚æœ‰ä¸‰ç§ ä½¿ç”¨aæ ‡ç­¾ä¸­çš„hrefå±æ€§123456789101112&lt;html&gt; &lt;body&gt; &lt;h2&gt; &lt;a href=&quot;#div1&quot;&gt;to div1&lt;/a&gt; &lt;a href=&quot;#div2&quot;&gt;to div2&lt;/a&gt; &lt;a href=&quot;#div3&quot;&gt;to div3&lt;/a&gt; &lt;/h2&gt; &lt;div id=&quot;div1&quot;&gt;div1&lt;/div&gt; &lt;div id=&quot;div2&quot;&gt;div2&lt;/div&gt; &lt;div id=&quot;div3&quot;&gt;div3&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹å°±æ˜¯ä¼šæ”¹å˜URLçš„å€¼ã€‚ ä½¿ç”¨jsä¸­çš„scrollIntoView()è¿™ä¸ªæ–¹æ³•123456789&lt;html&gt; &lt;div id=&quot;div1&quot;&gt;div1&lt;/div&gt; &lt;div id=&quot;div2&quot;&gt;div2&lt;/div&gt; &lt;div id=&quot;div3&quot;&gt;div3&lt;/div&gt; &lt;script&gt; document.getElementById(&quot;div(Id)&quot;).scrollIntoView(); &lt;/script&gt;&lt;/html&gt; è¿™ç§æ–¹æ³•çš„å¥½å¤„ï¼Œæ˜¯URLä¸ä¼šå˜ï¼ŒåŒæ—¶èƒ½å¤Ÿå“åº”ç›¸åº”çš„scrolläº‹ä»¶ï¼Œä¸éœ€è¦ç®—æ³•ä»€ä¹ˆçš„ã€‚ è®°ä½è¦åœ¨divä¸ŠåŠ é«˜åº¦ï¼Œä¸ç„¶ä¼šå‡ºç°å®šä½ä¸å‡†]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®¹å™¨é•¿å®½æ¯”]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2F%E5%AE%B9%E5%99%A8%E9%95%BF%E5%AE%BD%E6%AF%94%2F</url>
    <content type="text"><![CDATA[A1: ä½¿ç”¨èƒŒæ™¯å›¾ç‰‡å®ç°é•¿åº¦æ¯”å›ºå®š (background)çŸ¥è¯†ç‚¹ï¼š paddingçš„%å€¼æ˜¯æ ¹æ®å…ƒç´ çš„widthè¿›è¡Œè®¡ç®—çš„ åšæ³•ï¼š å®¹å™¨çš„heightä¸º0 å®¹å™¨çš„box-sizingä¸ºborder-boxï¼Œæˆ–è€…å®¹å™¨ä¸èƒ½å¸¦æœ‰border è®¾ç½®padding-bottomæˆ–padding-topä¸º%å€¼ã€‚æ¯”å¦‚ï¼šå®¹å™¨è¦æ¯”ä¾‹ä¸º16:9ï¼Œåˆ™padding-bottomæˆ–padding-topè®¾ä¸º9 / 16 * 100% = 56.25% æ³¨æ„ï¼š å›¾ç‰‡é•¿å®½æ¯”è¦å’Œå®¹å™¨é•¿å®½æ¯”ç›¸åŒï¼Œæ‰èƒ½åšåˆ°èƒŒæ™¯å……æ»¡å®¹å™¨ ä»£ç ï¼š12&lt;div class="aspect-ratio-box"&gt;&lt;/div&gt; 12345678/* 16:9 */.aspect-ratio-boxes&#123; overflow: hidden; /* ä¸ç¡®å®šè¿™ä¸ªå±æ€§ä»€ä¹ˆç”¨ */ height: 0; padding-top: 56.25%; background: url(/images/happy-birthday.png) no-repeat center; background-size: contain;&#125; A2: é€‚ç”¨ä¸imgã€videoã€iframeæˆ–objectçš„æ–¹æ¡ˆçŸ¥è¯†ç‚¹ï¼š åŒA1ç¬¬1æ¡ å®šä½ åšæ³•ï¼š åŒA1ç¬¬1ã€2ã€3æ¡ å®¹å™¨relativeå®šä½ï¼Œå…ƒç´ ï¼ˆimgã€videoç­‰ï¼‰absoluteå®šä½ ä»£ç ï¼š12345678&lt;div class="aspect-ratio-box"&gt; &lt;iframe class="aspect-ratio-box-inside" src="https://www.youtube.com/embed/upPCohrJcbw?showinfo=0&amp;modestbranding=1" frameborder="0" allowfullscreen&gt; &lt;/iframe&gt; &lt;/div&gt; 1234567891011121314.aspect-ratio-box &#123; height: 0; overflow: hidden; /* ä¸ç¡®å®šè¿™ä¸ªå±æ€§ä»€ä¹ˆç”¨ */ padding-top: calc(591.44 / 1127.34 * 100%); background: white; position: relative; &#125; .aspect-ratio-box-inside &#123; position: absolute; top: 0; left: 0; width: 100%; height: 100%; &#125; B1: åˆ©ç”¨ä¼ªç±»(:beforeã€:after)å®ç°çŸ¥è¯†ç‚¹ï¼š ä¼ªç±» æµ®åŠ¨ marginå¯ä»¥è®¾ç½®è´Ÿå€¼ åšæ³•ï¼š å®¹å™¨ä¼ªç±»å…ƒç´ è®¾ç½®padding-topæŒ‰æ¯”ä¾‹è®¡ç®—çš„%å€¼ ä»£ç ï¼š 12345&lt;div class="aspect-ratio-box"&gt; &lt;div class="aspect-ratio-box-inside"&gt; bala..bala.... &lt;/div&gt;&lt;/div&gt; 123456789101112131415161718192021222324252627282930313233343536.aspect-ratio-box &#123; background: orange; max-width: 50vw; margin: 20px auto;&#125;/* ä¼ªç±»+æµ®åŠ¨ï¼šå†…å®¹ä¸è¶…è¿‡å®¹å™¨æ—¶ï¼Œä¿æŒé•¿å®½æ¯”ï¼›è¶…å‡ºæ—¶ï¼Œè‡ªåŠ¨æ‰©å±•é«˜åº¦ */.aspect-ratio-box::before &#123; content: ""; width: 1px; margin-left: -1px; float: left; height: 0; padding-top: calc(591.44 / 1127.34 * 100%);&#125;.aspect-ratio-box::after &#123; /* to clear float */ content: ""; display: table; clear: both;&#125;/* ä¼ªç±»+å®šä½ */.aspect-ratio-box::before &#123; content: ''; position: relative; display: block; box-sizing: border-box; padding-top: calc(591.44 / 1127.34 * 100%);&#125;.aspect-ratio-box-inside &#123; position: absolute; top: 0; bottom: 0; left: 0; right: 0;&#125; C1: ä½¿ç”¨CSSè‡ªå®šä¹‰å±æ€§çŸ¥è¯†ç‚¹ï¼š CSSè‡ªå®šä¹‰å±æ€§ ä»£ç ï¼š1234567&lt;div style="--aspect-ratio:16/9"&gt; &lt;iframe src="https://www.youtube.com/embed/upPCohrJcbw?showinfo=0&amp;modestbranding=1" frameborder="0" allowfullscreen=""&gt; &lt;/iframe&gt;&lt;/div&gt; 12345678910111213141516171819202122232425:root &#123; --aspect-ratio: 1 / 1;&#125;[style*="--aspect-ratio"] &gt; :first-child &#123; width: 100%;&#125;[style*="--aspect-ratio"] &gt; * &#123; height: auto;&#125; @supports (--custom:property) &#123; [style*="--aspect-ratio"] &#123; position: relative; &#125; [style*="--aspect-ratio"]::before &#123; content: ""; display: block; padding-bottom: calc(100% / (var(--aspect-ratio))); &#125; [style*="--aspect-ratio"] &gt; :first-child &#123; position: absolute; top: 0; left: 0; height: 100%; &#125; &#125; å‚è€ƒï¼š å®¹å™¨é•¿å®½æ¯” CSSå®ç°é•¿å®½æ¯”çš„å‡ ç§æ–¹æ¡ˆ demo]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5å­¦ä¹ æ•´ç†]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2FHTML5%E5%AD%A6%E4%B9%A0%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[HTML5 å­¦ä¹ æ•´ç† HTML5 æ˜¯ W3C ä¸ WHATWG åˆä½œçš„ç»“æœ,WHATWG æŒ‡ Web Hypertext Application Technology Working Groupã€‚ WHATWG è‡´åŠ›äº web è¡¨å•å’Œåº”ç”¨ç¨‹åºï¼Œè€Œ W3C ä¸“æ³¨äº XHTML 2.0ã€‚åœ¨ 2006 å¹´ï¼ŒåŒæ–¹å†³å®šè¿›è¡Œåˆä½œï¼Œæ¥åˆ›å»ºä¸€ä¸ªæ–°ç‰ˆæœ¬çš„ HTML HTML5 ä¸­çš„ä¸€äº›æœ‰è¶£çš„æ–°ç‰¹æ€§ï¼š ç”¨äºç»˜ç”»çš„ canvas å…ƒç´  ç”¨äºåª’ä»‹å›æ”¾çš„ video å’Œ audio å…ƒç´  å¯¹æœ¬åœ°ç¦»çº¿å­˜å‚¨çš„æ›´å¥½çš„æ”¯æŒã€‚ æ–°çš„ç‰¹æ®Šå†…å®¹å…ƒç´ ï¼Œæ¯”å¦‚ article ã€footer ã€header ã€nav ã€section æ–°çš„è¡¨å•æ§ä»¶ï¼Œæ¯”å¦‚ï¼šcalendar ã€dateã€timeã€emailã€urlã€search æ³¨æ„ï¼šå¯¹äºä¸­æ–‡ç½‘é¡µéœ€è¦ä½¿ç”¨&lt;meta charset=&quot;utf-8&quot;&gt;å£°æ˜ç¼–ç ï¼Œå¦åˆ™ä¼šå‡ºç°ä¹±ç ã€‚ æ ‡ç­¾ æè¿° &lt;article&gt; å®šä¹‰é¡µé¢ç‹¬ç«‹çš„å†…å®¹åŒºåŸŸ &lt;aside&gt; å®šä¹‰é¡µé¢çš„ä¾§è¾¹æ å†…å®¹ &lt;bdi&gt; å…è®¸æ‚¨è®¾ç½®ä¸€æ®µæ–‡æœ¬ï¼Œä½¿å…¶è„±ç¦»å…¶çˆ¶å…ƒç´ çš„æ–‡æœ¬æ–¹å‘ä½ç½®ã€‚ &lt;command&gt; å®šä¹‰å‘½ä»¤æŒ‰é’®ï¼Œæ¯”å¦‚å•é€‰æŒ‰é’®ã€å¤é€‰æ¡†ã€æˆ–æŒ‰é’® &lt;details&gt; ç”¨äºæè¿°æ–‡æ¡£æˆ–æ–‡æ¡£æŸä¸ªéƒ¨åˆ†çš„ç»†èŠ‚ &lt;dialog&gt; å®šä¹‰å¯¹è¯æ¡†ï¼Œæ¯”å¦‚æç¤ºæ¡† &lt;summary&gt; æ ‡ç­¾åŒ…å« details å…ƒç´ çš„æ ‡é¢˜ &lt;figure&gt; è§„å®šç‹¬ç«‹çš„æµå†…å®¹ï¼ˆå›¾åƒã€å›¾è¡¨ã€ç…§ç‰‡ã€ä»£ç ç­‰ç­‰ï¼‰ &lt;figcaption&gt; å®šä¹‰ &lt;figure&gt; å…ƒç´ çš„æ ‡é¢˜ &lt;footer&gt; å®šä¹‰ section æˆ– document çš„é¡µè„š &lt;header&gt; å®šä¹‰äº†æ–‡æ¡£çš„å¤´éƒ¨åŒºåŸŸ &lt;mark&gt; å®šä¹‰å¸¦æœ‰è®°å·çš„æ–‡æœ¬ &lt;meter&gt; å®šä¹‰åº¦é‡è¡¡ã€‚ä»…ç”¨äºå·²çŸ¥æœ€å¤§å’Œæœ€å°å€¼çš„åº¦é‡ã€‚ &lt;nav&gt; å®šä¹‰å¯¼èˆªé“¾æ¥çš„éƒ¨åˆ† &lt;progress&gt; å®šä¹‰ä»»ä½•ç±»å‹çš„ä»»åŠ¡çš„è¿›åº¦ &lt;ruby&gt; å®šä¹‰ ruby æ³¨é‡Šï¼ˆä¸­æ–‡æ³¨éŸ³æˆ–å­—ç¬¦ï¼‰ &lt;rt&gt; å®šä¹‰å­—ç¬¦ï¼ˆä¸­æ–‡æ³¨éŸ³æˆ–å­—ç¬¦ï¼‰çš„è§£é‡Šæˆ–å‘éŸ³ &lt;rp&gt; åœ¨ ruby æ³¨é‡Šç§ä½¿ç”¨ï¼Œå®šä¹‰ä¸æ”¯æŒ ruby å…ƒç´ çš„æµè§ˆå™¨æ‰€æ˜¾ç¤ºçš„å†…å®¹ &lt;section&gt; å®šä¹‰æ–‡æ¡£ç§çš„èŠ‚ï¼ˆsectionã€åŒºæ®µï¼‰ &lt;time&gt; å®šä¹‰æ—¥æœŸæˆ–è€…æ—¶é—´ &lt;wbr&gt; è§„å®šåœ¨æ–‡æœ¬ç§çš„ä½•å¤„é€‚åˆæ·»åŠ æ¢è¡Œç¬¦]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>Html5</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Html5</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSæ•°ç»„çš„åŸºæœ¬æ–¹æ³•]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2FJS%E6%95%B0%E7%BB%84%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[JS æ•°ç»„ä¸­çš„åŸºæœ¬æ–¹æ³•æ•´ç† æ–¹æ³• æè¿° è¿”å›å€¼ concat() è¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„æ•°ç»„ï¼Œå¹¶è¿”å›ç»“æœ åŸæ•°ç»„ indexOf() æœç´¢æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå¹¶è¿”å›å®ƒæ‰€åœ¨çš„ä½ç½® åŸæ•°ç»„ join() æŠŠæ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸² åŸæ•°ç»„ lastIndexOf è¿”å›ä¸€ä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²å€¼æœ€åå‡ºç°çš„ä½ç½®ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šä½ç½®ä»åå‘å‰æœç´¢ åŸæ•°ç»„ reverse() åè½¬æ•°ç»„çš„å…ƒç´ é¡ºåº åŸæ•°ç»„ sort() å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº åŸæ•°ç»„ slice() é€‰å–æ•°ç»„çš„çš„ä¸€éƒ¨åˆ† æ–°çš„å­—ç¬¦ä¸² toString() æŠŠæ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœ Boolean valueOf() è¿”å›æ•°ç»„å¯¹è±¡çš„åŸå§‹å€¼ åŸæ•°ç»„ forEach() å¾ªç¯ã€éå†æ•°ç»„ åŸæ•°ç»„ splice() ä»æ•°ç»„ä¸­æ·»åŠ ã€åˆ é™¤ã€æ›¿æ¢å…ƒç´  æ–°æ•°ç»„ pop() åˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´  è¿”å›åˆ é™¤çš„å…ƒç´  push() å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´  è¿”å›æ–°çš„é•¿åº¦ shift() åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ unshift() å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´  è¿”å›æ–°çš„é•¿åº¦ every() æ£€æµ‹æ•°ç»„å…ƒç´ çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆæ¡ä»¶ Boolean some() æ£€æµ‹æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆæŒ‡å®šæ¡ä»¶ Boolean es6ä¸­æ–°å¢ æ–¹æ³• æè¿° è¿”å›å€¼ set() æˆå‘˜éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ æ„é€ å‡½æ•° map() å¾ªç¯ã€éå†æ•°ç»„ æ–°æ•°ç»„ Array.from() å°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„: ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡å’Œå¯éå†çš„å¯¹è±¡(åŒ…æ‹¬es6çš„Setå’Œmap) æ–°æ•°ç»„ Array.of() å°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„ æ–°æ•°ç»„ find() æ£€æµ‹æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆæŒ‡å®šæ¡ä»¶ Booleanæˆ–undefind findIndex() æ£€æµ‹æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆæŒ‡å®šæ¡ä»¶ Numberæˆ– -1 Array.fill() å¡«å……æ•°ç»„ æ–°æ•°ç»„ Array.includes() æ£€æµ‹æ•°ç»„å…ƒç´ ä¸­æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆæŒ‡å®šæ¡ä»¶ Boolean Array.flat() å°†åµŒå¥—çš„æ•°ç»„â€œæ‹‰å¹³â€ æ–°æ•°ç»„]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>JS</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°ç»„å»é‡çš„å„ç§å§¿åŠ¿]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F26%2F%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E7%9A%84%E5%90%84%E7%A7%8D%E5%A7%BF%E5%8A%BF%2F</url>
    <content type="text"><![CDATA[æœ€å¸¸ç”¨çš„å‡ ç§æ–¹æ³• ç›®å‰æˆ‘åªèƒ½æƒ³åˆ°æ•°ç»„ä¸­çº¯æ•°å­—ã€æ•°å­—åŠ å­—ç¬¦ä¸²ã€å¯¹è±¡ï¼Œæ‰€ä»¥å†™äº†å‡ ä¸ªä¸ªäººè§‰å¾—è¿˜å¯ä»¥ç”¨çš„æ–¹æ³•ä½œä¸ºè®°å½• æ•°ç»„ä¸­å…¨æ˜¯æ•°å­—çš„å»é‡æ–¹æ³• æœ€ç®€å• - çº¯æ•°å­— 1234567891011121314// æ³¨æ„ï¼š IE8 æ˜¯ä¸æ”¯æŒindexOfæ–¹æ³•// æ–°å»ºä¸€æ•°ç»„ï¼Œéå†ä¼ å…¥æ•°ç»„çš„å€¼ï¼Œå€¼ä¸åœ¨æ–°æ•°ç»„å°± push åˆ°æ–°æ•°ç»„é‡Œfunction unique(arr) &#123; let newArr = []; for (let i = 0; i &lt; arr.length; i++) &#123; if (newArr.indexOf(arr[i]) == -1 ) &#123; newArr.push(arr[i]); &#125; &#125; return newArr;&#125;let a = [1, 1, 2, 3, 4, 3];console.log(unique(a)); // [1, 2, 3, 4] æ•°ç»„ä¸‹æ ‡æ³• - æ•°å­—ã€å­—ç¬¦ä¸² 12345678910111213// å®ç°æ€è·¯ï¼šå¦‚æœå½“å‰æ•°ç»„çš„ç¬¬ié¡¹åœ¨å½“å‰æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ä¸æ˜¯iï¼Œé‚£ä¹ˆè¡¨ç¤ºç¬¬ié¡¹æ˜¯é‡å¤çš„ï¼Œå¿½ç•¥æ‰ã€‚å¦åˆ™å­˜å…¥ç»“æœæ•°ç»„function unique(arr) &#123; let newArr = []; for(let i = 0; i &lt; arr.length; i++) &#123; if(arr.indexOf(arr[i]) === i)&#123; newArr.push(arr[i]) &#125; &#125; return newArr;&#125;let a = [1, 1, 2, 3, 'a', 'a'];console.log(unique(a)); ES6çš„å†™æ³• 12let a = [1, 1, 2, 3, 4, 3];console.log(Array.from(new Set(a))); // [1, 2, 3, 4] å‰é¢éƒ½æ˜¯çš„æ•°ç»„ä¸­å…¨æ˜¯æ•°å­—ï¼Œç°åœ¨æ¥çœ‹çœ‹æ•°ç»„ä¸­æ˜¯å¯¹è±¡çš„æƒ…å†µ 12345678910111213141516171819202122232425// è¿™æ˜¯æˆ‘ä»¬çš„æ•°æ®let arr = [ &#123; name: &apos;xiaoming&apos;, id: 1 &#125;, &#123; name: &apos;xiaohong&apos;, id: 1 &#125;, &#123; name: &apos;xiaozhang&apos;, id: 2 &#125;]// reducelet obj = &#123;&#125;;let newArr = arr.reduce((cur, next) =&gt; &#123; obj[next.id] ? &apos;&apos; : obj[next.id] = true &amp;&amp; cur.push(next); return cur;&#125;, [])console.log(newArr);]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>æ•°ç»„å»é‡</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSä¸­çš„äº¤é›†ã€å¹¶é›†ã€å·®é›†]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F25%2FJS%E4%B8%AD%E7%9A%84%E4%BA%A4%E9%9B%86%E3%80%81%E5%B9%B6%E9%9B%86%E3%80%81%E5%B7%AE%E9%9B%86%2F</url>
    <content type="text"><![CDATA[å‰è¨€ å†™åœ¨å‰é¢ï¼Œå‰æ®µæ—¶é—´å†™é¡¹ç›®é‡åˆ°ä¸€ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜ï¼Œæ±‚æ•°ç»„å†…å®¹é‡Œå…¨æ˜¯å¯¹è±¡çš„äº¤é›†ï¼Œè¿™ä¸ªéœ€æ±‚è¯´éš¾å¹¶ä¸æ˜¯å¾ˆéš¾ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯èŠ±äº†ä¸€ä¸ªå°æ—¶æ‰æƒ³æ˜ç™½æ€ä¹ˆåš æ•°ç»„é‡Œå…¨æ•°å­—çš„äº¤é›†ã€å¹¶é›†ã€å·®é›† æ•°ç»„é‡Œé¢çš„å…¨æ•°å­—çš„äº¤é›†å…¶å®å¾ˆç®€å•ï¼Œå¦‚æœä½ æœ‰è®¤çœŸçš„çœ‹ä¸‹ è¿™ç¯‡æ–‡ç« ï¼Œå…¶ä¸­å°±æœ‰è®²åˆ°æ•°ç»„ä¸­å…¨æ•°å­—æ€ä¹ˆå¾—åˆ°äº¤é›†ã€å¹¶é›†ã€å·®é›†ï¼Œå¦‚æœä½ æ²¡æœ‰ä»”ç»†çœ‹ï¼Œé‚£è¯·çœ‹ä¸‹æˆ‘æ€ä¹ˆå®ç°çš„ã€‚ 123456789101112131415// å®šä¹‰ä¸¤ä¸ªæ•°ç»„let a = new Set([1, 2, 3]);let b = new Set([4, 3, 2]);// å¹¶é›†let union = new Set([...a, ...b]);// Set &#123;1, 2, 3, 4&#125;// äº¤é›†let intersect = new Set([...a].filter(x =&gt; b.has(x)));// set &#123;2, 3&#125;// å·®é›†let difference = new Set([...a].filter(x =&gt; !b.has(x)));// Set &#123;1&#125; ä½†æ˜¯ä»æ‰“å°çš„åœ°æ–¹æ¥çœ‹ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•°ç»„ç»“æ„ï¼Œè¿™é‡Œæœ‰ä¸¤ç§å˜é€šçš„æ–¹æ³•å¯ä»¥è§£å†³ï¼Œ åˆ©ç”¨åŸ Set ç»“æ„æ˜ å°„å‡ºä¸€ä¸ªæ–°çš„ç»“æ„ï¼Œç„¶åèµ‹å€¼ç»™åŸæ¥çš„ Set ç»“æ„ 1234// æ–¹æ³•ä¸€let set = new Set([1, 2, 3]);set = new Set([...set].map(val =&gt; val * 2));// setçš„å€¼æ˜¯2, 4, 6 åˆ©ç”¨ES6çš„ Array.form æ–¹æ³• 1234// æ–¹æ³•äºŒlet set = new Set([1, 2, 3]);set = new Set(Array.from(set, val =&gt; val * 2));// setçš„å€¼æ˜¯2, 4, 6 è¿™é‡Œä¸ªäººæ¨èçš„æ˜¯ç¬¬äºŒç§æ–¹æ³• æ•°ç»„é‡Œå…¨å¯¹è±¡çš„äº¤é›†ã€å¹¶é›†ã€å·®é›† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647let arr1 = [ &#123; name: &apos;xiaoming&apos;, id: 1 &#125;, &#123; name: &apos;xiaohong&apos;, id: 2 &#125;]let arr2 = [ &#123; name: &apos;xiaoming&apos;, id: 1 &#125;, &#123; name: &apos;xiaohong&apos;, id: 2 &#125;, &#123; name: &apos;xiaozhang&apos;, id: 3 &#125;]// å¹¶é›†let arr3 = arr1.concat(arr2)let obj = []let result = arr3.reduce((cur, next) =&gt; &#123; obj[next.id] ? &apos;&apos; : obj[next.id] = true &amp;&amp; cur.push(next) return cur&#125;, [])console.log(result)// äº¤é›†let arrId = arr1.map(m =&gt; m.id)let result = arr2.filter(v =&gt; arrId.includes(v.id))console.log(result)// å·®é›†let arr1Id = arr1.map(m =&gt; m.id)let arr2Id = arr2.map(m =&gt; m.id)let arr3 = arr1.concat(arr2)let result = arr3.filter(v =&gt; !(arr1Id.includes(v.id)) || !(arr2Id.includes(v.id)))console.log(result) å‹æƒ…é“¾æ¥ECMAScript 6å…¥é—¨ - é˜®ä¸€å³°]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>js</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[react-hookså°é²œ]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F24%2Freact-hooks%E5%B0%9D%E9%B2%9C%2F</url>
    <content type="text"><![CDATA[what is a Hooks?Hooksæ˜¯æŒ‡å‡½æ•°ç»„ä»¶â€œhook intoâ€ååº”çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸç‰¹æ€§çš„å‡½æ•°ã€‚Hooksåœ¨ç±»ä¸­ä¸èµ·ä½œç”¨ï¼Œå®ƒå¯ä»¥åœ¨æ²¡æœ‰ç±»çš„æƒ…å†µä¸‹ç›´æ¥ä½¿ç”¨Reactã€‚ï¼ˆä¸å»ºè®®é‡å†™ç°æœ‰ç»„ä»¶ï¼Œå¯ä»¥åœ¨æ–°çš„ç»„ä»¶ä¸­ä½¿ç”¨Hooksï¼‰ é’©å­ä¸€ç¥ é’©å­æ˜¯åœ¨React 16.8ä¸­æ–°å¢çš„ã€‚å®ƒä»¬å…è®¸æ‚¨åœ¨ä¸ç¼–å†™ç±»çš„æƒ…å†µä¸‹ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»–ååº”ç‰¹æ€§ã€‚ State Hook ğŸŒ° ç‚¹å‡»æŒ‰é’®è‡ªå¢æ•° ä¹‹å‰çš„å†™æ³• 12345678910111213141516171819202122232425import React, &#123; Component &#125; from &apos;react&apos;class App extends Component &#123; constructor(props) &#123; super(props) this.state = &#123; count: 0 &#125; &#125; render() &#123; const &#123; count &#125; = this.state; return ( &lt;div&gt; &lt;p&gt;You clicked &#123;count&#125; times&lt;/p&gt; &lt;button onClick=&#123;() =&gt; this.setState(&#123; count: count + 1 &#125;)&#125;&gt; Click me &lt;/button&gt; &lt;/div&gt; ); &#125;&#125;export default App; ç”¨äº† hooks çš„å†™æ³• 123456789101112131415import React, &#123; useState &#125; from &apos;react&apos;function App() &#123; const [count, setCount] = useState(0) return ( &lt;div&gt; &lt;p&gt;You clicked &#123;count&#125; times&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt; Click me &lt;/button&gt; &lt;/div&gt; );&#125;export default App useState æ˜¯ä¸€ä¸ªé’©å­ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•°ç»„ä»¶å†…éƒ¨è°ƒç”¨å®ƒæ¥å‘å®ƒæ·»åŠ ä¸€äº›æœ¬åœ°çš„çŠ¶æ€ reactå°†åœ¨é‡æ–°æ¸²æŸ“ä¹‹é—´ä¿ç•™è¿™ä¸ªçŠ¶æ€ useState è¿”å›ä¸€å¯¹æ•°æ®ï¼šå½“å‰çŠ¶æ€å€¼å’Œä¸€ä¸ªå…è®¸æ›´æ–°å®ƒçš„å‡½æ•°ï¼Œå¯ä»¥ä»æ—¶é—´å¤„ç†æˆ–è€…å…¶ä»–åœ°æ–¹è°ƒç”¨è¿™ä¸ªè¿”å›å‡½æ•°ï¼Œç±»ä¼¼ this.setStateï¼Œä¸åŒçš„æ˜¯å®ƒä¸å°†æ–°æ—§çŠ¶æ€åˆå¹¶åœ¨ä¸€èµ· è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„, useState çš„å”¯ä¸€å‚æ•°æ˜¯åˆå§‹çŠ¶æ€ï¼Œåœ¨ä¸Šé¢çš„æ —å­ä¸­ï¼Œå®ƒçš„åˆå§‹çŠ¶æ€æ˜¯0ã€‚ä¸ this.state ä¸åŒï¼šè¿™é‡Œçš„çŠ¶æ€ä¸ä¸€å®šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼›ä¸”åˆå§‹çŠ¶æ€å‚æ•°ä»…åœ¨ç¬¬ä¸€æ¬¡æœŸé—´ä½¿ç”¨ ğŸŒ° å£°æ˜å¤šä¸ªçŠ¶æ€å˜é‡ 1234567function ExampleWithManyStates() &#123; // Declare multiple state variables! const [age, setAge] = useState(42); const [fruit, setFruit] = useState(&apos;banana&apos;); const [todos, setTodos] = useState([&#123; text: &apos;Learn Hooks&apos; &#125;]); // ...&#125; React æä¾›ç±»ä¸€äº›å†…ç½®çš„é’©å­ï¼Œæ¯”å¦‚åˆšæ‰ä½¿ç”¨çš„ useState ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºé’©å­æ¥é‡ç”¨ä¸åŒç»„ä»¶ä¹‹é—´çš„çŠ¶æ€è¡Œä¸ºã€‚ Effect Hook Effect Hookï¼Œå®ƒä¸componentDidMountã€componentDidUpdateå’ŒcomponentWillUnmountçš„ä½œç”¨ç›¸åŒ æ —å­ æ›´æ–°DOMåè®¾ç½®æ–‡æ¡£æ ‡é¢˜ ä¹‹å‰çš„å†™æ³• 12345678910111213141516171819202122232425262728293031323334353637import React, &#123; Component &#125; from &apos;react&apos;class App extends Component &#123; constructor(props) &#123; super(props) this.state = &#123; count: 0 &#125; &#125; componentDidMount() &#123; const &#123; count &#125; = this.state document.title = `You clicked $&#123;count&#125; times` &#125; componentDidUpdate() &#123; const &#123; count &#125; = this.state document.title = `You clicked $&#123;count&#125; times` &#125; render() &#123; const &#123; count &#125; = this.state; return ( &lt;div&gt; &lt;p&gt;You clicked &#123;count&#125; times&lt;/p&gt; &lt;button onClick=&#123;() =&gt; this.setState(&#123; count: count + 1 &#125;)&#125;&gt; Click me &lt;/button&gt; &lt;/div&gt; ); &#125;&#125;export default App; ä½¿ç”¨äº† Hooks 1234567891011121314151617181920import React, &#123; useState, useEffect &#125; from &apos;react&apos;;function Example() &#123; const [count, setCount] = useState(0); // Similar to componentDidMount and componentDidUpdate: useEffect(() =&gt; &#123; // Update the document title using the browser API document.title = `You clicked $&#123;count&#125; times`; &#125;); return ( &lt;div&gt; &lt;p&gt;You clicked &#123;count&#125; times&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt; Click me &lt;/button&gt; &lt;/div&gt; );&#125; é»˜è®¤æƒ…å†µä¸‹ï¼ŒReact ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“åè°ƒç”¨å‰¯ä½œç”¨å‡½æ•°ï¼ˆåŒ…æ‹¬ç¬¬ä¸€æ¬¡æ¸²æŸ“ï¼‰ å‰¯ä½œç”¨å‡½æ•°è¿˜å¯ä»¥é€šè¿‡è¿”å›ä¸€ä¸ªå‡½æ•°æ¥æŒ‡å®šå¦‚ä½•â€œæ¸…é™¤â€å‰¯ä½œç”¨ã€‚å®ƒçš„æ‰§è¡Œé¡ºåºæ˜¯ï¼Œæ¯æ¬¡é¡µé¢æ›´æ–°å‰ï¼Œå…ˆæ‰§è¡Œ return å‡½æ•°ï¼Œç„¶åå†æ‰§è¡Œ useEffect é‡Œçš„å†…å®¹ è·Ÿ useState ä¸€æ ·ï¼Œå¯ä»¥åœ¨ç»„ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨ useEffect ï¼Œé€šè¿‡ä½¿ç”¨ Hooksï¼Œä½ å¯ä»¥æŠŠç»„ä»¶å†…ç›¸å…³çš„å‰¯ä½œç”¨å‡½æ•°ç»„ç»‡åœ¨ä¸€èµ·ï¼Œï¼ˆæ¯”å¦‚åˆ›å»ºè®¢é˜…å’Œå–æ¶ˆè®¢é˜…ï¼‰ï¼Œè¿™æ ·çš„å¥½å¤„åœ¨äºä¸ç”¨æŠŠå®ƒä»¬æ‹†åˆ†åœ¨ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°é‡Œé¢ useEffect è¿˜å¯ä»¥ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŒ‡å®šæŸä¸ªå€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰è§¦å‘ 123useEffect(() =&gt; &#123; document.title = `You clicked $&#123;count&#125; times`;&#125;, [count]) å¦‚æœåªæƒ³è¿è¡Œä¸€æ¬¡ useEffectï¼Œå¯ä»¥æŠŠç¬¬äºŒä¸ªå‚æ•°æ”¹ä¸ºä¸€ä¸ªç©ºæ•°ç»„ âš ï¸ Rules of Hooks Hooks æ˜¯å±äº JavaScript å‡½æ•°ï¼Œä½†æ˜¯ä»–ä»¬è¿˜é™„åŠ äº†ä¸¤æ¡è§„åˆ™ åªæœ‰é¡¶å±‚æ‰èƒ½ä½¿ç”¨ Hooksï¼Œ ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶ã€æˆ–è€…åµŒå¥—å‡½æ•°å†…è°ƒç”¨æŒ‚é’© åªæœ‰åœ¨ React å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨æŒ‚é’©ï¼Œä¸è¦ä»å¸¸è§„çš„ JavaScript å‡½æ•°è°ƒç”¨é’©å­ã€‚ï¼ˆåªæœ‰ä¸€ä¸ªæœ‰æ•ˆåœ°æ–¹å¯ä»¥è°ƒç”¨é’©å­ - è‡ªå®šä¹‰é’©å­ï¼‰ è‡ªå®šä¹‰é’©å­ å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„ç»„ä»¶éƒ½ä¼šå­˜åœ¨çŠ¶æ€é€»è¾‘çš„é‡ç”¨ï¼Œåœ¨ä¼ ç»Ÿä¸Šï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°ä¸¤ç§æ¯”è¾ƒæµè¡Œçš„è§£å†³æ–¹æ¡ˆï¼š é«˜é˜¶ç»„ä»¶ æ¸²æŸ“é“å…·ä½†æ˜¯ç°åœ¨å‡ºç°äº† Hooksï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€äº›é’©å­å‡½æ•°ï¼Œä¸”å®ƒä¸ä¼šå‘æ ‘ä¸­æ·»åŠ æ›´å¤šçš„ç»„ä»¶ é¦–å…ˆï¼Œæˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªé‡ç”¨çš„å‡½æ•°é’©å­ 123456789101112131415161718import React, &#123; useState, useEffect &#125; from &apos;react&apos;;function useFriendStatus(friendID) &#123; const [isOnline, setIsOnline] = useState(null); function handleStatusChange(status) &#123; setIsOnline(status.isOnline); &#125; useEffect(() =&gt; &#123; ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange); return () =&gt; &#123; ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange); &#125;; &#125;); return isOnline;&#125; ä»¥ friendID ä½œä¸ºå‚æ•°ï¼Œæ”¾å›æˆ‘ä»¬çš„æœ‹å‹æ˜¯å¦åœ¨çº¿ ç„¶åå…¶ä»–ç»„ä»¶å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒï¼š ğŸŒ° 1 12345678function FriendStatus(props) &#123; const isOnline = useFriendStatus(props.friend.id); if (isOnline === null) &#123; return &apos;Loading...&apos;; &#125; return isOnline ? &apos;Online&apos; : &apos;Offline&apos;;&#125; ğŸŒ° 2 123456789function FriendListItem(props) &#123; const isOnline = useFriendStatus(props.friend.id); return ( &lt;li style=&#123;&#123; color: isOnline ? &apos;green&apos; : &apos;black&apos; &#125;&#125;&gt; &#123;props.friend.name&#125; &lt;/li&gt; );&#125; è¿™äº›ç»„ä»¶çš„çŠ¶æ€å®Œå…¨ç‹¬ç«‹ é’©å­æ˜¯ä¸€ç§é‡ç”¨æœ‰çŠ¶æ€é€»è¾‘çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯çŠ¶æ€æœ¬èº« æ¯ä¸ªè°ƒç”¨é’©å­çš„å‡½æ•°éƒ½æ˜¯å®Œå…¨ç‹¬ç«‹çš„çŠ¶æ€ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶ä¸­ä½¿ç”¨åŒä¸€ä¸ªè‡ªå®šä¹‰é’©å­ä¸¤æ¬¡ è‡ªå®šä¹‰çš„é’©å­å‡½æ•°æ³¨æ„ï¼šéœ€è¦ä»¥â€œuseâ€å¼€å¤´å¹¶è°ƒç”¨å…¶ä»–çš„é’©å­useSomethingï¼Œè¿™æ ·æ–¹ä¾¿linteræ’ä»¶å¦‚ä½•ä½¿ç”¨é’©å­åœ¨ä»£ç ä¸­æŸ¥æ‰¾é”™è¯¯ å…¶ä»–é’©å­ useContext æ¥æ”¶ä¸€ä¸ª context å¯¹è±¡ï¼ˆReact.createContext çš„è¿”å›å€¼ï¼‰å¹¶è¿”å›è¯¥ context çš„å½“å‰å€¼ã€‚å½“å‰çš„ context å€¼ç”±ä¸Šå±‚ç»„ä»¶ä¸­è·ç¦»å½“å‰ç»„ä»¶æœ€è¿‘çš„ &lt;MyContext.Provider&gt; çš„ value prop å†³å®š useReducer useState çš„æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒæ¥æ”¶ä¸€ä¸ªå½¢å¦‚ (state, action) =&gt; newState çš„ reducerï¼Œå¹¶è¿”å›å½“å‰çš„ state ä»¥åŠä¸å…¶é…å¥—çš„ dispatch æ–¹æ³•ã€‚ï¼ˆå¦‚æœä½ ç†Ÿæ‚‰ Redux çš„è¯ï¼Œå°±å·²ç»çŸ¥é“å®ƒå¦‚ä½•å·¥ä½œäº†ã€‚ï¼‰ ğŸŒ° reducer.js1234567891011121314151617181920212223const initialState = &#123;count: 0&#125;;function reducer(state, action) &#123; switch (action.type) &#123; case &apos;increment&apos;: return &#123;count: state.count + 1&#125;; case &apos;decrement&apos;: return &#123;count: state.count - 1&#125;; default: throw new Error(); &#125;&#125;function Counter(&#123;initialState&#125;) &#123; const [state, dispatch] = useReducer(reducer, initialState); return ( &lt;&gt; Count: &#123;state.count&#125; &lt;button onClick=&#123;() =&gt; dispatch(&#123;type: &apos;increment&apos;&#125;)&#125;&gt;+&lt;/button&gt; &lt;button onClick=&#123;() =&gt; dispatch(&#123;type: &apos;decrement&apos;&#125;)&#125;&gt;-&lt;/button&gt; &lt;/&gt; );&#125; å®Œæ•´ demo è¯·ç‚¹å‡»æˆ‘ ä½¿ç”¨ä»¥å‰æœ€å¥½çœ‹ä¸‹ å®˜æ–¹æ–‡æ¡£å› ä¸ºä¸­æ–‡Reactæ–‡æ¡£è¿˜æ²¡æœ‰æ›´æ–°åˆ°æœ€æ–°çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ˜¯çœ‹çš„è‹±æ–‡çš„æ–‡æ¡£]]></content>
      <categories>
        <category>å‰ç«¯</category>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
        <tag>React</tag>
        <tag>react-hooks</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨webpack4æ­å»ºreactæ¡†æ¶ï¼ˆä¼˜åŒ–ç¯‡ï¼‰]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F24%2F%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E7%94%A8webpack4%E6%90%AD%E5%BB%BAreact%E6%A1%86%E6%9E%B6%EF%BC%88%E4%BC%98%E5%8C%96%E7%AF%87%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨webpack4æ­å»ºreact ç¬¬äºŒç«  è¿™ç¯‡å±äºä¼˜åŒ–ç¯‡ï¼ŒåŸºç¡€ç¯‡è¯·å‰å¾€è¿™é‡Œ ç‚¹å‡»æˆ‘ æ•´åˆhtml-webpack-plugin ä¸»è¦æ˜¯ public - index.html è¿™ä¸ªæ–‡ä»¶éœ€è¦è‡ªå·±ä¸»åŠ¨ç”Ÿæˆï¼Œä¸”jsä¹Ÿæ˜¯è‡ªå·±æ·»åŠ ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨åˆ°äº†è¿™ä¸ªæ’ä»¶ é¦–å…ˆä¸‹è½½æ’ä»¶ yarn add html-webpack-plugin -D ç„¶ååœ¨ build - webpack.prod.config.js è¿™ä¸ªæ–‡ä»¶ä¸­é…ç½®plugin 12345678910111213141516171819const merge = require(&apos;webpack-merge&apos;)const baseWebpackConfig = require(&apos;./webpack.base.config&apos;)// html-webpack-pluginå…¶ä»–å‚æ•° https://webpack.docschina.org/plugins/html-webpack-plugin/#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)module.exports = merge(baseWebpackConfig, &#123; mode: &apos;production&apos;, plugins: [ new HtmlWebpackPlugin(&#123; template: &apos;public/index.html&apos;, inject: &apos;body&apos;, minify: &#123; // å…¶ä»–å‚æ•° https://github.com/kangax/html-minifier#options-quick-reference removeComments: true, // å‰¥ç¦»HTMLè¯„è®º collapseWhitespace: true, // æŠ˜å æœ‰åŠ©äºæ–‡æ¡£æ ‘ä¸­æ–‡æœ¬èŠ‚ç‚¹çš„ç©ºç™½åŒºåŸŸ removeAttributeQuotes: true // å°½å¯èƒ½åˆ é™¤å±æ€§å‘¨å›´çš„å¼•å· &#125; &#125;) ]&#125;) æµ‹è¯•ä¸€ä¸‹ï¼Œå…ˆåˆ é™¤ index.html ä¸­çš„ script æ ‡ç­¾ é‡æ–°ç¼–è¯‘ä¸€æ¬¡ yarn run buildï¼Œç¼–è¯‘å®Œä»¥åç»“æœå¦‚ä¸‹ç„¶åç›®å½•ä¸­ä¼šå¤šå‡ºä¸€ä¸ª index.html æ–‡ä»¶è¿™æ ·æ„Ÿè§‰å±‚çº§ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å†æ”¹ä¸‹ç›®å½•çš„å±‚çº§ï¼Œæ‰¾åˆ° webpack.base.config.js ä¿®æ”¹ output ä¸­ä»£ç 1234output: &#123; filename: &apos;js/bundle.js&apos;, // è¿™é‡Œæ˜¯åšä¸€ä¸ªä¿®æ”¹ path: OUTPUT_PATH&#125;, å†é‡æ–°ç¼–è¯‘ä¸€ä¸‹ï¼Œæ‰§è¡Œ yarn run build å°±å¯ä»¥äº† å†™ä»£ç çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹åå­—é‡å¤çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™æ˜¯éœ€è¦ç”¨åˆ° hashï¼›æ›´é‡è¦çš„ä¸€ç‚¹æ˜¯è§£å†³æµè§ˆå™¨ç¼“å­˜çš„é—®é¢˜æ‰¾åˆ° webpack.base.config.js ä¿®æ”¹ output ä¸­ä»£ç  1234output: &#123; filename: &apos;js/[name].[chunkhash:16].js&apos;, // è¿™é‡Œæ˜¯åšä¸€ä¸ªä¿®æ”¹ path: OUTPUT_PATH&#125;, åˆšæ‰æåˆ°æ–‡ä»¶é‡å¤çš„é—®é¢˜ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå°±æ˜¯æ¯æ¬¡ç¼–è¯‘ä»¥å‰å…ˆæ¸…ç†distç›®å½•ï¼Œå¦‚æœä¸æ¸…ç†çš„è¯ï¼Œä¼šå¯¼è‡´æ–‡ä»¶å¾ˆå¤šä¸”å†…å®¹å…¶å®æ˜¯ä¸€æ ·ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼ŒåŸå› å°±æ˜¯å› ä¸ºæˆ‘ä»¬åŠ å…¥äº†hashæ‰€ä»¥å¯¼è‡´é‡Œé¢çš„æ–‡ä»¶ä¼šå¾ˆå¤š é¦–å…ˆä¸‹è½½æ’ä»¶ yarn add clean-webpack-plugin -D ç„¶ååœ¨ build - webpack.prod.config.js è¿™ä¸ªæ–‡ä»¶ä¸­é…ç½®plugin123456789101112131415161718192021222324252627const merge = require(&apos;webpack-merge&apos;)// html-webpack-plugin https://webpack.docschina.org/plugins/html-webpack-plugin/#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)// clean-webpack-plugin https://webpack.docschina.org/guides/output-management/#%E6%B8%85%E7%90%86-dist-%E6%96%87%E4%BB%B6%E5%A4%B9const CleanWebpackPlugin = require(&apos;clean-webpack-plugin&apos;)const baseWebpackConfig = require(&apos;./webpack.base.config&apos;)module.exports = merge(baseWebpackConfig, &#123; mode: &apos;production&apos;, plugins: [ new HtmlWebpackPlugin(&#123; template: &apos;public/index.html&apos;, inject: &apos;body&apos;, minify: &#123; // å…¶ä»–å‚æ•° https://github.com/kangax/html-minifier#options-quick-reference removeComments: true, // å‰¥ç¦»HTMLè¯„è®º collapseWhitespace: true, // æŠ˜å æœ‰åŠ©äºæ–‡æ¡£æ ‘ä¸­æ–‡æœ¬èŠ‚ç‚¹çš„ç©ºç™½åŒºåŸŸ removeAttributeQuotes: true // å°½å¯èƒ½åˆ é™¤å±æ€§å‘¨å›´çš„å¼•å· &#125; &#125;), new CleanWebpackPlugin(&#123; // å…¶ä»–å‚æ•° https://github.com/johnagan/clean-webpack-plugin#options-and-defaults-optional dry: true, verbose: true &#125;) ]&#125;) ç¼–è¯‘ä¸€ä¸‹ yarn run build æŠ½ç¦»ä¸šåŠ¡ä»£ç  ä¸ºä»€ä¹ˆæŠ½ç¦»ï¼ŒåŸå› å¾ˆç®€å•ï¼Œæˆ‘ä»¬ä¸å¯èƒ½æ¯æ¬¡éƒ½å»ç¼–è¯‘ä¸å˜çš„ä»£ç ï¼Œæ¯”å¦‚ï¼šreactã€react-domç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠ½ç¦»è¿™äº› é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨ webpack.base.config.js å†æ·»åŠ ä¸€ä¸ªå…¥å£æ–‡ä»¶123456789101112131415161718192021222324252627const path = require(&apos;path&apos;) // pathæ˜¯å±äºnodeçš„ä¸€ä¸ªæ¨¡å—const OUTPUT_PATH = path.resolve(__dirname, &apos;../dist&apos;)const APP_PATH = path.resolve(__dirname, &apos;../src&apos;)module.exports = &#123; entry: &#123; app: &apos;./src/index.js&apos;, // ä»¥ä¸‹ä¸ºæ–°å¢ react: [ &apos;react&apos;, &apos;react-dom&apos; ] &#125;, output: &#123; filename: &apos;js/[name].[chunkhash:16].js&apos;, path: OUTPUT_PATH &#125;, module: &#123; rules: [ &#123; test: /\.js?$/, use: &apos;babel-loader&apos;, include: [APP_PATH] &#125; ] &#125;&#125; æˆ‘ä»¬åœ¨é‡æ–°æ‰“åŒ…ä¸€ä¸‹ï¼Œå¾—ç¡®æ˜¯å¦å¤–æ‰“äº†ä¸€ä¸ªåŒ…å‡ºæ¥ï¼Œä½†ç»†å¿ƒçš„ä½ å¯èƒ½ä¼šå‘ç° app.js å¹¶æ²¡æœ‰å‡å°‘ï¼Œè¿™é‡Œ webpack4 ä½¿ç”¨é…ç½® optimization.splitChunks çš„æ–¹å¼æ¥æŠ½ç¦»ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041const merge = require(&apos;webpack-merge&apos;)// html-webpack-plugin https://webpack.docschina.org/plugins/html-webpack-plugin/#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)// clean-webpack-plugin https://webpack.docschina.org/guides/output-management/#%E6%B8%85%E7%90%86-dist-%E6%96%87%E4%BB%B6%E5%A4%B9const CleanWebpackPlugin = require(&apos;clean-webpack-plugin&apos;)const baseWebpackConfig = require(&apos;./webpack.base.config&apos;)module.exports = merge(baseWebpackConfig, &#123; mode: &apos;production&apos;, optimization: &#123; splitChunks: &#123; chunks: &apos;all&apos;, minChunks: 1, minSize: 0, cacheGroups: &#123; react: &#123; test: &apos;react&apos;, name: &apos;react&apos;, enforce: true &#125; &#125; &#125; &#125;, plugins: [ new HtmlWebpackPlugin(&#123; template: &apos;public/index.html&apos;, inject: &apos;body&apos;, minify: &#123; // å…¶ä»–å‚æ•° https://github.com/kangax/html-minifier#options-quick-reference removeComments: true, // å‰¥ç¦»HTMLè¯„è®º collapseWhitespace: true, // æŠ˜å æœ‰åŠ©äºæ–‡æ¡£æ ‘ä¸­æ–‡æœ¬èŠ‚ç‚¹çš„ç©ºç™½åŒºåŸŸ removeAttributeQuotes: true // å°½å¯èƒ½åˆ é™¤å±æ€§å‘¨å›´çš„å¼•å· &#125; &#125;), new CleanWebpackPlugin(&#123; // å…¶ä»–å‚æ•° https://github.com/johnagan/clean-webpack-plugin#options-and-defaults-optional dry: true, verbose: true &#125;) ]&#125;) å‹ç¼©æ–‡ä»¶ è¿˜æ˜¯åœ¨ optimization é…ç½®ï¼Œä¸è¿‡è¿™æ¬¡æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ’ä»¶ uglifyjs-webpack-plugin ä¸‹è½½æ’ä»¶ yarn add uglifyjs-webpack-plugin -D å¼•å…¥æ’ä»¶ 1const UglifyJSPlugin = require(&apos;uglifyjs-webpack-plugin&apos;) é…ç½®æ’ä»¶ optimization - minimizer 123minimizer: [ new UglifyJSPlugin()], é‡æ–°ç¼–è¯‘ä¸€ä¸‹ npm run build é…ç½®æœ¬åœ°å¼€å‘ç¯å¢ƒ å®‰è£… yanr add webpack-dev-server -D æ‰¾åˆ° build - webpack.dev.config.js åŠ å…¥ä¸€ä¸‹ä»£ç 12345678910111213141516171819202122232425262728293031323334const path = require(&apos;path&apos;)const webpack = require(&apos;webpack&apos;)const merge = require(&apos;webpack-merge&apos;)const baseWebpackConfig = require(&apos;./webpack.base.config.js&apos;)const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)module.exports = merge(baseWebpackConfig, &#123; mode: &apos;development&apos;, output: &#123; filename: &apos;js/[name].[hash:16].js&apos;, &#125;, plugins: [ new HtmlWebpackPlugin(&#123; template: &apos;public/index.html&apos;, inject: &apos;body&apos;, minify: &#123; html5: true, &#125;, hash: false, &#125;), new webpack.HotModuleReplacementPlugin(), ], devServer: &#123; port: &apos;8080&apos;, contentBase: path.join(__dirname, &apos;../public&apos;), compress: true, historyApiFallback: true, hot: true, // çƒ­æ›´æ–° å¹¶å¼•å…¥ HotModuleReplacementPlugin æ’ä»¶ https: false, noInfo: true, open: true, proxy: &#123;&#125;, &#125;,&#125;) æœ‰äº†æœ¬åœ°æœåŠ¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦çƒ­æ›´æ–°ï¼Œå…ˆä¿®æ”¹ devServer.hot: trueå¹¶åœ¨pluginsä¸­å¼•å…¥ HotModuleReplacementPlugin æ’ä»¶ï¼Œå¼€å¯çƒ­æ›´æ–°ï¼Œè®°å¾—æ›¿æ¢hash åœ¨ package.json æ–‡ä»¶ä¸­å¢åŠ ä¸€ä¸ªnpm scripts 1&quot;dev&quot;: &quot;webpack-dev-server --inline --progress --config build/webpack.dev.config.js&quot; ä¸Šé¢é…ç½®å®Œæˆåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ yarn run devï¼Œå°±ä¼šè‡ªåŠ¨å¼€å¯æœ¬åœ°æœåŠ¡]]></content>
      <categories>
        <category>webpack</category>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
        <tag>React</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨webpack4æ­å»ºreactæ¡†æ¶ï¼ˆåŸºç¡€ç¯‡ï¼‰]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F23%2F%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E7%94%A8webpack4%E6%90%AD%E5%BB%BAreact%E6%A1%86%E6%9E%B6%EF%BC%88%E5%9F%BA%E7%A1%80%E7%AF%87%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨webpack4æ­å»ºreact ç¬¬ä¸€ç« é¦–å…ˆè¦å…ˆå»äº†è§£ä¸‹ webpackï¼ŒåŸºæœ¬çš„å°±ä¸å¤šå†ä»‹ç»äº†ã€‚ ç„¶åå¼€å§‹æˆ‘ä»¬çš„ webpack é…ç½®ï¼š å†å‘½ä»¤è¡Œä¸­è¾“å…¥ npm init,å½“ç„¶é‚£ä¹Ÿå¯ä»¥ä½¿ç”¨ npm init -y -y çš„æ„ä¹‰å°±ä¸éœ€è¦è‡ªå·±ä¸€ä¸ªä¸€ä¸ªå»å¡«å†™ã€‚mkdir åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œcd è¿›å…¥æ–‡ä»¶å¤¹ï¼Œç„¶åä½ çœ‹åˆ°ç”Ÿæˆ package.json è¿™ä¸ªæ–‡ä»¶å°±æˆåŠŸäº† ç„¶åæ–°å»ºä¸€äº›æ–‡ä»¶ï¼Œå…·ä½“ç›®å½•ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š ä¸‹è½½ä¾èµ–ï¼Œå› ä¸º webpack4.0 æ˜¯æŠŠ webpack å’Œ webpack-cli åˆ†å¼€äº† 1234567// è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ facebook çš„ yarn webpack-dev-server æœ¬åœ°å¯åŠ¨é¡¹ç›®çš„æœåŠ¡æ’ä»¶yarn add webpack webpack-cli webpack-dev-server -D// å¦‚æœä½ éœ€è¦ä½¿ç”¨npmnpm install webpack webpack-cli -D ç„¶ååœ¨ build æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ° webpack.base.config.js è¿›è¡ŒåŸºç¡€çš„é…ç½®ï¼Œ webpack4.0ä»¥ä¸Šçš„ç‰ˆæœ¬å¢åŠ äº† mode çš„æ¨¡å¼ã€‚ä¸»è¦æ˜¯ç”¨äºä¸åŒçš„ç¯å¢ƒé€‰é¡¹ï¼Œæœ‰ä¸ªé«˜çº§çš„é…ç½®åœ°å€ä½ å¯èƒ½éœ€è¦äº†è§£ä¸€ä¸‹ ç‚¹å‡»æˆ‘ æ¥ç€æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ’ä»¶æ¥ç»„ç»‡ä¸‹ webpack çš„åŸºç¡€é…ç½®å’Œä¸åŒç¯å¢ƒï¼Œ123456789yarn add webpack-merge -D// ä¸‹è½½æˆåŠŸæ¥ä»¥å,æˆ‘ä»¬æ‰“å¼€ `webpack.prod.config.js` ï¼Œç¼–è¾‘ä»£ç const merge = require(&apos;webpack-merge&apos;)const baseWebpackConfig = require(&apos;./webpack.base.conf&apos;)module.exports = merge(baseWebpackConfig, &#123; mode: &apos;production&apos;&#125;) ç„¶ååˆ†åˆ«åœ¨ src - index.js çš„æ–‡ä»¶å†™å…¥12var ele = document.getElementById(&apos;root&apos;)ele.innerHTML = &apos;hello world&apos; ç„¶ååœ¨ public æ–°å»ºä¸€ä¸ªindex.htmlæ–‡ä»¶ å†™å…¥12345678910111213&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt; &lt;title&gt;æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨webpack4æ­å»ºreactæ¡†æ¶ï¼ˆåŸºç¡€ç¯‡ï¼‰&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;root&quot;&gt;&lt;/div&gt; &lt;script src=&quot;../dist/bundle.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ç„¶åå°±éœ€è¦æ‰“åŒ…æµ‹è¯•æˆ‘ä»¬å†™çš„å¯¹ä¸å¯¹äº†ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ webpack --config build/webpack.prod.config.jsï¼Œè™½ç„¶æˆåŠŸï¼Œä½†æ˜¯æ„Ÿè§‰å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥æ”¹è¿›ä¸‹ï¼Œæ‰¾åˆ°æ ¹ç›®å½•ä¸‹çš„ package.json æ–‡ä»¶ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ npm run build ç»“æœå’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ å®‰è£…react åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ yarn add react react-dom --save å®‰è£…å®Œæˆä»¥åæˆ‘ä»¬åœ¨ src - index.js æ–‡ä»¶ç›´æ¥ä½¿ç”¨react1234567import React from &apos;react&apos;import ReactDom from &apos;react-dom&apos;ReactDom.render( &lt;h1&gt;hello world&lt;/h1&gt;, document.getElementById(&apos;root&apos;)) å†™å…¥ä»¥ä¸Šä»£ç ï¼Œç„¶åæ‰§è¡Œæ‰“åŒ… npm run buildï¼Œè¿™æ—¶ä¼šæŠ¥é”™ä¸ºå•¥ä¼šæŠ¥é”™ï¼Ÿå› ä¸º webpack åªè¯†åˆ«JavaScriptæ–‡ä»¶ï¼Œè€Œä¸”åªèƒ½ç¼–è¯‘es5ç‰ˆæœ¬çš„JavaScriptè¯­æ³•ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨ES2015ï¼Œä»¥åŠjsxçš„è¯­æ³•ç³–ï¼Œwebpackå®ƒæ ¹æœ¬ä¸è®¤è¯†ã€‚ç„¶åæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ° loader æ¥åšé¢„å¤„ç†æ–‡ä»¶äº†ã€‚å¸¸ç”¨çš„å°±æ˜¯ babel-loader æŠŠES2015+çš„è¯­æ³•è½¬æ¢æˆES5çš„è¯­æ³• å®‰è£…babel é¦–å…ˆæˆ‘ä»¬å®‰è£… babel çš„æ¨¡å—ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥yarn add babel-loader @babel/preset-react @babel/preset-env @babel/core -Dï¼Œä¸ºå•¥ä¼šä¸‹è¿™ä¹ˆå¤šçš„åŒ…ï¼Œå› ä¸ºå…¶ä¸­@babel/coreæ˜¯babel çš„æ ¸å¿ƒæ¨¡å—ï¼Œ@babel/preset-env æ˜¯è½¬è¯‘ES2015+çš„è¯­æ³•ï¼Œ@babel/preset-reactæ˜¯è½¬è¯‘reactçš„JSXä»¥åŠFLOWï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–é—®é¢˜ä¸äº†è§£çš„å¯ä»¥ è¿›å…¥å®˜ç½‘ ç„¶åæˆ‘ä»¬è¿˜éœ€è¦åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª .babelrc çš„æ–‡ä»¶ï¼Œç”¨äºé…ç½® presetsï¼Œ1234567891011121314151617&#123; &quot;presets&quot;: [ [ &quot;@babel/preset-env&quot;, &#123; &quot;targets&quot;: &#123; &quot;browsers&quot;: [ &quot;&gt; 1%&quot;, &quot;last 5 versions&quot;, &quot;ie &gt;= 8&quot; ] &#125; &#125; ], &quot;@babel/preset-react&quot; ]&#125; APIè¯¦æƒ… æ¥ç€æˆ‘ä»¬å†å»è½½å…¥babel-loaderï¼Œä¿®æ”¹ webpack.base.config.js æ–‡ä»¶12345678910111213141516171819202122const path = require(&apos;path&apos;) // pathæ˜¯å±äºnodeçš„ä¸€ä¸ªæ¨¡å—const APP_PATH = path.resolve(__dirname, &apos;../src&apos;)const DIST_PATH = path.resolve(__dirname, &apos;../dist&apos;)module.exports = &#123; entry: &#123; app: &apos;./src/index.js&apos; &#125;, output: &#123; filename: &apos;bundle.js&apos;, path: DIST_PATH &#125;, module: &#123; rules: [ &#123; test: /\.js?$/, use: &apos;babel-loader&apos;, include: APP_PATH &#125; ] &#125;&#125; é‡æ–°ç¼–è¯‘ï¼Œå°±OKäº†ã€‚ æœ€åæˆ‘æŠŠé¡¹ç›®çš„æ¥å£æ”¹äº†ä¸€ä¸‹ï¼Œå¤§è‡´æ˜¯è¿™æ ·çš„åŸºæœ¬çš„éœ€æ±‚å·²ç»å®Œæˆäº†ã€‚æ¥ä¸‹æ¥ä¼šä¼˜åŒ–ä¸€ä¸‹æ¡†æ¶ ç„¶åæºç åœ¨è¿™é‡Œ base-firståˆ†æ”¯ä¸­]]></content>
      <categories>
        <category>webpack</category>
        <category>React</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
        <tag>React</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[reduxã€mobxä¼˜ç¼ºç‚¹]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F23%2Fredux%E3%80%81mobx%E4%BC%98%E7%BC%BA%E7%82%B9%2F</url>
    <content type="text"><![CDATA[å‡½æ•°å¼ ä¸ é¢å‘å¯¹è±¡ å‡½æ•°å¼ç¼–ç¨‹çš„å¥½å¤„ æ— å‰¯ä½œç”¨ï¼Œå¯æ—¶é—´å›æº¯ï¼Œé€‚åˆå¹¶å‘ã€‚ æ•°æ®æµå˜æ¢å¤„ç†å¾ˆæ‹¿æ‰‹ï¼Œæ¯”å¦‚ rxjsã€‚ å¯¹äºå¤æ‚æ•°æ®é€»è¾‘ã€ç§‘å­¦è®¡ç®—çš„å¼€å‘å’Œç»´æŠ¤æ•ˆç‡æ›´é«˜ é¢å‘å¯¹è±¡çš„å¥½å¤„ javascript çš„é¸­å­ç±»å‹ï¼Œè¡¨æ˜å®ƒåŸºäºå¯¹è±¡ï¼Œä¸é€‚åˆå®Œå…¨å‡½æ•°å¼è¡¨è¾¾ã€‚ æ•°å­¦æ€ç»´å’Œæ•°æ®å¤„ç†é€‚åˆç”¨å‡½æ•°å¼ï¼ŒæŠ€æœ¯æ˜¯ä¸ºä¸šåŠ¡æœåŠ¡çš„ï¼Œè€Œä¸šåŠ¡æ¨¡å‹é€‚åˆç”¨é¢å‘å¯¹è±¡ã€‚ ä¸šåŠ¡å¼€å‘å’Œåšç ”ç©¶ä¸åŒï¼Œé€»è¾‘ä¸¥è°¨çš„å‡½æ•°å¼ç›¸å½“å®Œç¾ï¼Œä½†åˆ«æŒ‡æœ›æ¯ä¸ªç¨‹åºå‘˜éƒ½æ„¿æ„æ¶ˆè€—å¤§é‡è„‘ç»†èƒè§£å†³æ—¥å¸¸ä¸šåŠ¡é—®é¢˜ã€‚ redux redux çš„ä¼˜åŠ£åŠ¿ æ•°æ®æµæµåŠ¨å¾ˆè‡ªç„¶ï¼Œå› ä¸ºä»»ä½• dispatch éƒ½ä¼šå¯¼è‡´å¹¿æ’­ï¼Œéœ€è¦ä¾æ®å¯¹è±¡å¼•ç”¨æ˜¯å¦å˜åŒ–æ¥æ§åˆ¶æ›´æ–°ç²’åº¦ã€‚ å¦‚æœå……åˆ†åˆ©ç”¨æ—¶é—´å›æº¯çš„ç‰¹å¾ï¼Œå¯ä»¥å¢å¼ºä¸šåŠ¡çš„å¯é¢„æµ‹æ€§ä¸é”™è¯¯å®šä½èƒ½åŠ›ã€‚ æ—¶é—´å›æº¯ä»£ä»·å¾ˆé«˜ï¼Œå› ä¸ºæ¯æ¬¡éƒ½è¦æ›´æ–°å¼•ç”¨ï¼Œé™¤éå¢åŠ ä»£ç å¤æ‚åº¦ï¼Œæˆ–ä½¿ç”¨ immutableã€‚ æ—¶é—´å›æº¯çš„å¦ä¸€ä¸ªä»£ä»·æ˜¯ action ä¸ reducer å®Œå…¨è„±èŠ‚ï¼Œæ•°æ®æµè¿‡ç¨‹éœ€è¦è‡ªè¡Œè„‘è¡¥ã€‚åŸå› æ˜¯å¯å›æº¯å¿…ç„¶ä¸èƒ½ä¿è¯å¼•ç”¨å…³ç³»ã€‚ å¼•å…¥ä¸­é—´ä»¶ï¼Œå…¶å®ä¸»è¦ä¸ºäº†è§£å†³å¼‚æ­¥å¸¦æ¥çš„å‰¯ä½œç”¨ï¼Œä¸šåŠ¡é€»è¾‘æˆ–å¤šæˆ–å°‘å‚æ‚ç€ magicã€‚ ä½†æ˜¯çµæ´»åˆ©ç”¨ä¸­é—´ä»¶ï¼Œå¯ä»¥é€šè¿‡çº¦å®šå®Œæˆè®¸å¤šå¤æ‚çš„å·¥ä½œã€‚ å¯¹ typescript æ”¯æŒå›°éš¾ã€‚ mobx redux çš„ä¼˜åŠ£åŠ¿ æ•°æ®æµæµåŠ¨ä¸è‡ªç„¶ï¼Œåªæœ‰ç”¨åˆ°çš„æ•°æ®æ‰ä¼šå¼•å‘ç»‘å®šï¼Œå±€éƒ¨ç²¾ç¡®æ›´æ–°ï¼Œä½†å…å»äº†ç²’åº¦æ§åˆ¶çƒ¦æ¼ã€‚ æ²¡æœ‰æ—¶é—´å›æº¯èƒ½åŠ›ï¼Œå› ä¸ºæ•°æ®åªæœ‰ä¸€ä»½å¼•ç”¨ã€‚ è‡ªå§‹è‡³ç»ˆä¸€ä»½å¼•ç”¨ï¼Œä¸éœ€è¦ immutableï¼Œä¹Ÿæ²¡æœ‰å¤åˆ¶å¯¹è±¡çš„é¢å¤–å¼€é”€ã€‚ æ²¡æœ‰è¿™æ ·çš„çƒ¦æ¼ï¼Œæ•°æ®æµåŠ¨ç”±å‡½æ•°è°ƒç”¨ä¸€æ°”å‘µæˆï¼Œä¾¿äºè°ƒè¯•ã€‚ ä¸šåŠ¡å¼€å‘ä¸æ˜¯è„‘åŠ›æ´»ï¼Œè€Œæ˜¯ä½“åŠ›æ´»ï¼Œå°‘ä¸€äº› magicï¼Œå¤šä¸€äº›æ•ˆç‡ã€‚ ç”±äºæ²¡æœ‰ magicï¼Œæ‰€ä»¥æ²¡æœ‰ä¸­é—´ä»¶æœºåˆ¶ï¼Œæ²¡æ³•é€šè¿‡ magic åŠ å¿«å·¥ä½œæ•ˆç‡ï¼ˆè¿™é‡Œ magic æ˜¯æŒ‡ action åˆ†å‘åˆ° reducer çš„è¿‡ç¨‹ï¼‰ã€‚ å®Œç¾æ”¯æŒ typescriptã€‚ æœ¬æ–‡è¯¦æƒ…é“¾æ¥]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>çŠ¶æ€ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JSåŸå‹å’ŒåŸå‹é“¾]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F22%2FJS%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE%2F</url>
    <content type="text"><![CDATA[åŸå‹å’ŒåŸå‹é“¾çŸ¥è¯†ç‚¹ æ„é€ å‡½æ•° æ„é€ å‡½æ•° - æ‰©å±• åŸå‹è§„åˆ™å’Œç¤ºä¾‹ åŸå‹é“¾ instanceof æ„é€ å‡½æ•°1234567function Foo(name, age) &#123; this.name = name this.age = age this.class = &apos;class-1&apos; // return this // é»˜è®¤æœ‰è¿™ä¸€è¡Œ&#125;var f = nwe Foo(&apos;zhangsan&apos;, 20) // få°±æœ‰Fooçš„å±æ€§ æ„é€ å‡½æ•° - æ‰©å±• var a = {} å…¶å®æ˜¯ var a = new Object() çš„è¯­æ³•ç³– var a = [] å…¶å®æ˜¯ vat a = nwe Array() çš„è¯­æ³•ç³– function Foo() {â€¦} å…¶å®æ˜¯ var Foo = new Function(â€¦) ä½¿ç”¨ instanceof åˆ¤æ–­ä¸€ä¸ªå‡½æ•°æ˜¯å¦æ˜¯ä¸€ä¸ªå˜é‡çš„æ„é€ å‡½æ•° åŸå‹è§„åˆ™å’Œç¤ºä¾‹5æ¡åŸå‹è§„åˆ™ æ‰€æœ‰çš„å¼•ç”¨ç±»å‹ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ï¼‰ï¼Œéƒ½å…·æœ‰å¯¹è±¡ç‰¹æ€§ï¼Œå³å¯è‡ªç”±æ‰©å±•å±æ€§ï¼ˆé™¤äº†â€nullâ€ï¼‰ 123var obj = &#123;&#125;; obj.a = 100;var arr = []; arr.a = 100;function fn() &#123;&#125;; fn.a = 100; æ‰€æœ‰çš„å¼•ç”¨ç±»å‹ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ªprotoå±æ€§ï¼Œå±æ€§å€¼æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ 12345...console.log(obj.__proto__);console.log(arr.__proto__);console.log(fn.__proto__); æ‰€æœ‰çš„å‡½æ•°ï¼Œéƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œå±æ€§å€¼ä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ 123...console.log(fn.prototype) æ‰€æœ‰çš„å¼•ç”¨ç±»å‹ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ï¼‰ï¼Œprotoå±æ€§å€¼æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„ â€œprototypeâ€ å±æ€§å€¼ 123...console.log(obj.__proto__ === Object.prototype) å½“è¯•å›¾å¾—åˆ°ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡æœ¬èº«æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆä¼šå»å®ƒçš„protoï¼ˆå³å®ƒçš„æ„é€ å‡½æ•°çš„prototypeï¼‰ä¸­å¯»æ‰¾ 123456789101112131415function Foo() &#123; this.name = name&#125;Foo.prototype.alertName = function() &#123; alert(this.name)&#125;var f = new Foo(â€˜foodâ€™)f.printName = function() &#123; console.log(this.name)&#125;f.printName() // foodf.alertName() // food åŸå‹é“¾123...f.toString() // f.__proto__.__proto__ä¸­æŸ¥æ‰¾ å¦‚æœæœ€ä¸Šå±‚æ²¡æœ‰çš„å°±æ˜¯null åŸå‹ç»§æ‰¿123456789101112131415161718192021222324252627// å°è£…DOMæŸ¥è¯¢function Elem(id) &#123; this.elem = document.getElementById(id)&#125;Elem.prototype.html = function(val) &#123; var elem = this.elem if (val) &#123; elem.innerHTML = val return this // é“¾å¼æ“ä½œ &#125; else &#123; return elem.innerHTML &#125;&#125; Elem.prototype.on = function(type, fn) &#123; var elem = this.elem elem.addEventListener(type, fn) return this&#125;let div1 = new Elem(&apos;div1&apos;)// console.log(div1.html())div1.html(&apos;&lt;p&gt;hello m&lt;/p&gt;&apos;).on(&apos;click&apos;, function() &#123; alert(&apos;clicked&apos;)&#125;)]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo-nextä¸»é¢˜ä½¿ç”¨éšæœºèƒŒæ™¯å›¾]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F19%2Fhexo%E4%BD%BF%E7%94%A8%E9%9A%8F%E6%9C%BA%E8%83%8C%E6%99%AF%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[åœ¨nextä¸­ä½¿ç”¨éšæœºçš„èƒŒæ™¯å›¾ç‰‡ å¦‚æœæœ‰å°ä¼™ä¼´ä¸æƒ³è‡ªå·±çš„é¡µé¢å¤ªç´ äº†ï¼Œå¯ä»¥åŠ ä¸Šè¿™ä¸ªèƒŒæ™¯å›¾ï¼Œæ¯æ¬¡éƒ½æ˜¯éšæœºçš„å›¾ç‰‡ å›¾ç‰‡æ¥æº ä¿®æ”¹èƒŒæ™¯æ ·å¼ æ‰¾åˆ°è¿™ä¸ª themes\next\source\css\ _custom\custom.styl æ–‡ä»¶ï¼Œè¿™æ˜¯ next ä¸»é¢˜æ•…æ„ç•™ä¸‹æ¥ç”¨æˆ·è‡ªå®šä¹‰çš„æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸‹ä»£ç  1234567body &#123; background: url(https://source.unsplash.com/random/1600x900); background-repeat: no-repeat; background-attachment: fixed; background-position: 50% 50%; background-size: cover;&#125; ä»¥ä¸Šå°±æ˜¯ hexo-nextä¸»é¢˜ä½¿ç”¨éšæœºèƒŒæ™¯å›¾]]></content>
      <tags>
        <tag>blog</tag>
        <tag>hexo</tag>
        <tag>next</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoæ­å»ºçš„åšå®¢ä¸­æœ€ä¼˜é›…çš„æ”¾å¤§å›¾ç‰‡çš„æ–¹æ³•]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F18%2Fhexo%E6%90%AD%E5%BB%BA%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%9C%80%E4%BC%98%E9%9B%85%E7%9A%84%E6%94%BE%E5%A4%A7%E5%9B%BE%E7%89%87%E7%9A%84%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[hexoæ­å»ºçš„åšå®¢ä¸­æœ€ä¼˜é›…çš„æ”¾å¤§å›¾ç‰‡çš„æ–¹æ³• å†™åœ¨å‰é¢ï¼Œå¤§å®¶ç™¾åº¦hexoæ”¾å¤§å›¾ç‰‡çš„æ–¹æ³•å¾ˆå¤šç§æ‰€ä»¥æˆ‘å°±è®²æœ€ä¼˜é›…çš„ä¸€ç§ä¹Ÿæ˜¯æœ€å¥½ç”¨çš„ä¸€ç§ cd next/source/lib ä¸‹è½½æ’ä»¶ git clone https://github.com/theme-next/theme-next-fancybox3 fancybox æ›´æ”¹next/_config.ymlæ–‡ä»¶, fancybox: true æ•ˆæœå›¾å±•ç¤º ä»¥ä¸Šå°±æ˜¯ hexoæ­å»ºçš„åšå®¢ä¸­æœ€ä¼˜é›…çš„æ”¾å¤§å›¾ç‰‡çš„æ–¹æ³•]]></content>
      <tags>
        <tag>blog</tag>
        <tag>hexo</tag>
        <tag>next</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºè‡ªå·±çš„åšå®¢]]></title>
    <url>%2Fmy-blog%2F2019%2F04%2F18%2F%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨Hexoæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢ç½‘ç«™å¹¶ä½¿ç”¨ Next æ¨¡ç‰ˆ å†™åœ¨å‰é¢ï¼š å…¶å®åœ¨å»å¹´ï¼ˆ2018ï¼‰çš„æ—¶å€™å°±å·²ç»æ­å»ºè¿‡åšå®¢å¹¶å†™äº†å‡ ç¯‡æ–‡ç« ï¼Œä½†æ˜¯ç”±äºå½“æ—¶å¤ªå¿™å¯¼è‡´è‡ªå·±è¿åšå®¢çš„ä»£ç å†™åœ¨ä»€ä¹ˆåœ°æ–¹éƒ½å¿˜è®°äº†ã€‚ç°åœ¨æ–°å¼€å§‹æ­å»ºä¸€ä¸ªåšå®¢åˆ†äº«ä¸€äº›è‡ªå·±é¡¹ç›®æˆ–è€…å…¶ä»–åœ°æ–¹çš„ä¸€äº›ç†è§£ã€‚å¥½äº†ï¼Œå¼€å§‹æˆ‘ä»¬ç¬¬ä¸€ç¯‡æ–‡ç« çš„è¡¨æ¼”ã€‚ åšå®¢å­˜æ”¾ åŸæ¥æˆ‘çš„åšå®¢æ˜¯æ”¾åœ¨é˜¿é‡Œäº‘ä¸Šçš„ä½†æ˜¯å‘ç°ç”¨å¤„ä¸æ˜¯å¾ˆå¤§ï¼Œæ²¡ä»€ä¹ˆäººè®¿é—®æœ€ç»ˆæˆ‘è¿˜æ˜¯å‡†å¤‡è½¬ç§»åˆ°githubä¸Šã€‚ åœ¨ github ä¸Šå»newä¸€ä¸ªä»“åº“ï¼Œå…·ä½“æ“ä½œè¿˜è¯·ç™¾åº¦ï¼Œæˆ–è€…åŠ æˆ‘QQâ€œä¸€å¯¹ä¸€æ•™å­¦â€ Hexo é¡¹ç›®æ„å»º å…¨å±€ä¸‹è½½ hexo-cli ä¸‹è½½å®Œæ¯•ä»¥åï¼Œè¯·è®°å¾—å…ˆå»çœ‹ä¸‹å‘½ä»¤æ“ä½œï¼Œä»¥æœ€æ–°çš„æ–‡æ¡£ä¸ºå‡†ï¼Œå‘½ä»¤è¯´æ˜ çœ‹å®Œå‘½ä»¤ï¼Œåœ¨å‘½ä»¤è¡Œå·¥å…·é‡Œé¢è¾“å…¥ hexo s --debug å¯åŠ¨æˆ‘ä»¬çš„æœåŠ¡ç½‘é¡µæ˜¾ç¤ºè¿™ä¸ªçš„æ—¶å€™å°±è¯´æ˜åˆæ­¥çš„å·¥ä½œå®Œæˆ å¯åŠ¨å®Œæˆæ²¡æœ‰é—®é¢˜ï¼Œç„¶åæˆ‘ä»¬æ¥ä¿®æ”¹ä¸‹ä¸»é¢˜ï¼Œå…ˆæ‰¾åˆ°æ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œå†æ‰¾åˆ° theme æ›¿æ¢æˆå›¾ç‰‡è¿™æ ·ï¼Œå†æŠŠ nextç›®å½•ä¸‹çš„_config.ymlè¿™ä¸ªä¿®æ”¹ä¸€ä¸‹ï¼Œä¸€å…±å››ç§ï¼Œè‡ªå·±æ¢ä¸€ç§å–œæ¬¢çš„ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–ä¸»é¢˜ åšå®¢éƒ¨ç½²æ³¨æ„ä¸¤ç‚¹ éœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯ æ ¹ç›®å½•ä¸‹çš„_config.yml ç½‘å€éƒ¨åˆ†çš„è·¯å¾„é…ç½®ä¸€å®šè¦ææ¸…æ¥šï¼Œä¸ç„¶å¾ˆå®¹æ˜“å¯¼è‡´é¡¹ç›®ä¸­csså’ŒjsåŠ è½½ä¸å‡ºæ¥çš„æƒ…å†µ ï¼Œè¿™é‡Œä¸€å®šè¦æ³¨æ„ä¸‹ï¼Œå…·ä½“è¯´æ˜è¯·çœ‹æ–‡æ¡£ å› ä¸ºæˆ‘é¡¹ç›®è·¯å¾„æ˜¯å±äº https://github.com/MrMeiyu/my-blog äºŒçº§è·¯ç”±ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œä¼šå†™æˆ /my-blog ï¼Œå¦‚æœæœ‰çš„å°ä¼™ä¼´ç›´æ¥æ˜¯ä¸€çº§è·¯ç”±çš„è¯ï¼Œå°±å†™æˆ / å°±å¥½äº† å°±æ˜¯gitéƒ¨ç½²åœ°å€ä¸€å®šè¦å†™å¯¹ï¼Œè¿˜æœ‰å¦‚æœä½ çš„åˆ†æ”¯æ²¡æœ‰æ„å»ºä¹Ÿä¸éœ€è¦ç®¡å®ƒï¼ŒæŒ‰ç…§æˆ‘çš„åˆ†æ”¯æ¥å°±å†™å¥½äº†ã€‚ ,å…·ä½“è¯´æ˜è¯·çœ‹æ–‡æ¡£ ä»¥ä¸Šå°±æ˜¯ ä½¿ç”¨Hexoæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢ç½‘ç«™å¹¶ä½¿ç”¨ Next æ¨¡ç‰ˆ ï¼Œå¦‚æœè¿˜æœ‰ä¸æ‡‚çš„æœ‹å‹è¯·QQè”ç³»æˆ‘]]></content>
      <categories>
        <category>Github</category>
      </categories>
      <tags>
        <tag>blog</tag>
        <tag>hexo</tag>
        <tag>next</tag>
      </tags>
  </entry>
</search>
