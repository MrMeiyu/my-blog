---
title: redux、mobx优缺点
date: 2019-04-23 16:56:18
tags: [前端, 状态管理]
categories:
- 前端
---

## 函数式 与 面向对象

<!-- more -->

> 函数式编程的好处

1. 无副作用，可时间回溯，适合并发。
2. 数据流变换处理很拿手，比如 rxjs。
3. 对于复杂数据逻辑、科学计算的开发和维护效率更高

> 面向对象的好处

1. javascript 的鸭子类型，表明它基于对象，不适合完全函数式表达。
2. 数学思维和数据处理适合用函数式，技术是为业务服务的，而业务模型适合用面向对象。
3. 业务开发和做研究不同，逻辑严谨的函数式相当完美，但别指望每个程序员都愿意消耗大量脑细胞解决日常业务问题。

## redux

> redux 的优劣势

1. 数据流流动很自然，因为任何 dispatch 都会导致广播，需要依据对象引用是否变化来控制更新粒度。
2. 如果充分利用时间回溯的特征，可以增强业务的可预测性与错误定位能力。
3. 时间回溯代价很高，因为每次都要更新引用，除非增加代码复杂度，或使用 immutable。
4. 时间回溯的另一个代价是 action 与 reducer 完全脱节，数据流过程需要自行脑补。原因是可回溯必然不能保证引用关系。
5. 引入中间件，其实主要为了解决异步带来的副作用，业务逻辑或多或少参杂着 magic。
6. 但是灵活利用中间件，可以通过约定完成许多复杂的工作。
7. 对 typescript 支持困难。

## mobx

> redux 的优劣势

1. 数据流流动不自然，只有用到的数据才会引发绑定，局部精确更新，但免去了粒度控制烦恼。
2. 没有时间回溯能力，因为数据只有一份引用。
3. 自始至终一份引用，不需要 immutable，也没有复制对象的额外开销。
4. 没有这样的烦恼，数据流动由函数调用一气呵成，便于调试。
5. 业务开发不是脑力活，而是体力活，少一些 magic，多一些效率。
6. 由于没有 magic，所以没有中间件机制，没法通过 magic 加快工作效率（这里 magic 是指 action 分发到 reducer 的过程）。
7. 完美支持 typescript。

[本文详情链接](https://www.cnblogs.com/ascoders/p/6508271.html)